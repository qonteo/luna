<!DOCTYPE HTML><html><head><title>FaceStreamManager 2 API documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="https://github.com/raml2html/raml2html 6.4.1"><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css"><script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script><script type="text/javascript">
      $(document).ready(function() {
        $('.page-header pre code, .top-resource-description pre code, .modal-body pre code').each(function(i, block) {
          hljs.highlightBlock(block);
        });

        $('[data-toggle]').click(function() {
          var selector = $(this).data('target') + ' pre code';
          $(selector).each(function(i, block) {
            hljs.highlightBlock(block);
          });
        });

        // open modal on hashes like #_action_get
        $(window).bind('hashchange', function(e) {
          var anchor_id = document.location.hash.substr(1); //strip #
          var element = $('#' + anchor_id);

          // do we have such element + is it a modal?  --> show it
          if (element.length && element.hasClass('modal')) {
            element.modal('show');
          }
        });

        // execute hashchange on first page load
        $(window).trigger('hashchange');

        // remove url fragment on modal hide
        $('.modal').on('hidden.bs.modal', function() {
          try {
            if (history && history.replaceState) {
                history.replaceState({}, '', '#');
            }
          } catch(e) {}
        });
      });
    </script><style>
      .hljs {
        background: transparent;
      }
      .parent {
        color: #999;
      }
      .list-group-item > .badge {
        float: none;
        margin-right: 6px;
      }
      .panel-title > .methods {
        float: right;
      }
      .badge {
        border-radius: 0;
        text-transform: uppercase;
        width: 70px;
        font-weight: normal;
        color: #f3f3f6;
        line-height: normal;
      }
      .badge_get {
        background-color: #63a8e2;
      }
      .badge_post {
        background-color: #6cbd7d;
      }
      .badge_put {
        background-color: #22bac4;
      }
      .badge_delete {
        background-color: #d26460;
      }
      .badge_patch {
        background-color: #ccc444;
      }
      .list-group, .panel-group {
        margin-bottom: 0;
      }
      .panel-group .panel+.panel-white {
        margin-top: 0;
      }
      .panel-group .panel-white {
        border-bottom: 1px solid #F5F5F5;
        border-radius: 0;
      }
      .panel-white:last-child {
        border-bottom-color: white;
        -webkit-box-shadow: none;
        box-shadow: none;
      }
      .panel-white .panel-heading {
        background: white;
      }
      .tab-pane ul {
        padding-left: 2em;
      }
      .tab-pane h1 {
        font-size: 1.3em;
      }
      .tab-pane h2 {
        font-size: 1.2em;
        padding-bottom: 4px;
        border-bottom: 1px solid #ddd;
      }
      .tab-pane h3 {
        font-size: 1.1em;
      }
      .tab-content {
        border-left: 1px solid #ddd;
        border-right: 1px solid #ddd;
        border-bottom: 1px solid #ddd;
        padding: 10px;
      }
      #sidebar {
        margin-top: 30px;
        padding-right: 5px;
        overflow: auto;
        height: 90%;
      }
      .top-resource-description {
        border-bottom: 1px solid #ddd;
        background: #fcfcfc;
        padding: 15px 15px 0 15px;
        margin: -15px -15px 10px -15px;
      }
      .resource-description {
        border-bottom: 1px solid #fcfcfc;
        background: #fcfcfc;
        padding: 15px 15px 0 15px;
        margin: -15px -15px 10px -15px;
      }
      .resource-description p:last-child {
        margin: 0;
      }
      .list-group .badge {
        float: left;
      }
      .method_description {
        margin-left: 85px;
      }
      .method_description p:last-child {
        margin: 0;
      }
      .list-group-item {
        cursor: pointer;
      }
      .list-group-item:hover {
        background-color: #f5f5f5;
      }
      pre code {
        overflow: auto;
        word-wrap: normal;
        white-space: pre;
      }
      .items {
        background: #f5f5f5;
        color: #333;
        border: 1px solid #ccc;
        border-radius: 4px;
        padding: 9.5px;
        margin: 0 0 10px;
        font-size: 13px;
        line-height: 1.42857143;
      }
      .examples {
        margin-left: 0.5em;
      }
      .resource-modal li > ul {
        margin-bottom: 1em;
      }
    </style></head><body data-spy="scroll" data-target="#sidebar"><div class="container"><div class="row"><div class="col-md-9" role="main"><div class="page-header"><h1>FaceStreamManager 2 API documentation <small>version v.2.0.0, api 1</small></h1><p></p><h3 id="introduction"><a href="#introduction">Introduction</a></h3><p>Facestreammanager2 is a face recognition and attribute retrieval service based on the VisionLabs Luna API. The service consists of two modules: the real time recognition module and the analytics module.</p><h3 id="evens_api"><a href="#evens_api">Evens API</a></h3><p>The input of the service is fed with images of people. Each such image is an <strong>event</strong>. You can perform one of two actions with each event: extracting a descriptor from it or searching in the Luna API lists. After executing one of the actions, you can do the following with the received descriptor: put the descriptor in lists, attach the descriptor to the person, attach the created person to the lists. The logic of these actions is customizable.</p><p>The functional of uniting events in <strong>groups</strong> is implemented. This functionality is primarily intended for situations where we send several images of the same person from the camera in a row in order to improve the quality of recognition or because of the rupture of the face track. Now the three logics of joining the Evens into groups are implemented:</p><ol><li><p>Based on the external id of the track. All events with the same id of the track will be combined in same group.</p></li><li><p>Based on similarity. The new event will be compared to the events from the same source. If the event is similar to any of the previous events more than a given threshold, they are combined into same group.</p></li><li><p>Mixed. Both principles of grouping are used, in this case every two events similar to each other will be combined in the same group even if they are in different sources.</p></li></ol><p>To process incoming events, you need to create <strong>handlers</strong>. Each handler defines the policy for processing all incoming events. There are two types of handlers: extract and search. There are two principal differences: in the second one you can not send photos with several faces and you need to specify lists in the Luna API incoming event will be searched by. Both handlers allow you to perform additional actions with extracted descriptors: create persons from them in the Luna API, attach persons and descriptors to the lists in the Luna API. Also, for the handler, you can specify the duration of time to storage event in the database (not yet implemented).</p><p>In this module, it is possible to search for events and groups by various filters and obtain a so-called portraits - images associated with the events. And also get the distribution of events and groups in time (including days of the week, time of day, etc.).</p><h3 id="analitics_api"><a href="#analitics_api">Analitics API</a></h3><p>The analytics module allows you to perform different operations with lists in the Luna API as well as analysis of incoming events.</p><ul><li><p>Calculation of the probability of falling into the top of the result of matching by <strong>persons</strong> in the Luna API.</p></li><li><p>Clustering data on unique people.</p></li><li><p>Cross-matching between two lists in the Luna API.</p></li><li><p>Attach all events or groups to lists. You can also attach objects from an already existing list to the list in the Luna API.</p></li><li><p>Events markup.</p></li><li><p>Creation of reports on some types of tasks: cross-matching and clustering.</p></li></ul><h3 id="version"><a href="#version">Version</a></h3><p>For all resources except <code>/version</code>, <code>/luna_api</code> and<code>/storage</code>, one needs to use the prefix <code>/api/x</code>, where <em>x</em> is the <em>facestreammanager</em> api version number, the current version is 1.</p></div><div class="panel panel-default"><div class="panel-heading"><h3 id="handlers" class="panel-title">/handlers</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_handlers"><span class="parent"></span>/handlers</a> <span class="methods"><a href="#handlers_post"><span class="badge badge_post">post</span></a> <a href="#handlers_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_handlers" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#handlers_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Create handler.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#handlers_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get created handler list.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="handlers_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/handlers</h4></div><div class="modal-body"><div class="alert alert-info"><p>Create handler.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#handlers_post_request" data-toggle="tab">Request</a></li><li><a href="#handlers_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="handlers_post_request"><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>(application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>name</strong>: <em>required (string)</em><p>Handler name.</p></li><li><strong>type</strong>: <em>required (one of search, extract)</em><p>Handler type.</p></li><li><strong>extract_policy</strong>: <em>required (object)</em><p>Sets the flags that will be included when extracting a descriptor.</p><ul><li><strong>estimate_quality</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face image quality from the image.</p></li><li><strong>score_threshold</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Descriptor quality score threshold. All the face descriptors with quality score below the threshold will be ignored (and not stored in the DB). The function will proceed as usual with all the remaining descriptors (if left).</p></li><li><strong>estimate_attributes</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face attributes from the image.</p></li></ul></li><li><strong>multiple_faces_policy</strong>: <em>(one of 0, 1)</em><p>Whether to proceed multiple faces in an input image. Allowed only for "extract"-type handlers.</p></li><li><strong>search_policy</strong>: <em>(object)</em><p>Search similar descriptor policy. Required for "search"-type handlers.</p><ul><li><strong>search_lists</strong>: <em>required (array of search_list)</em><p>Luna API list list to search in.</p><p><strong>Items</strong>: search_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>list_type</strong>: <em>required (one of persons, descriptors)</em><p>Luna API list type.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. Matches with lower similarity will be acknowledged as failed.</p></li><li><strong>limit</strong>: <em>required (integer - minimum: 1 - maximum: 5)</em><p>The match result candidates count.</p></li></ul></div></li><li><strong>search_priority</strong>: <em>required (one of 1, 2)</em><p>Lists search priority.</p><ul><li>1 - Search is done in all lists, the results are combined.</li><li>2 - Search is done in order. If similarity is higher than the given <em>threshold</em>, the search stops.</li></ul></li></ul></li><li><strong>descriptor_policy</strong>: <em>(object)</em><p>Attaching the extracted descriptor to Luna API descriptor lists policy.</p><ul><li><strong>attach_policy</strong>: <em>required (array of attach_to_list)</em><p>Luna API list list to attach descriptor.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li><li><strong>person_policy</strong>: <em>(object)</em><p>Creating a person from the descriptor and then attaching it to Luna API person lists policy.</p><ul><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a descriptor policy. This policy is incompatible with person creation from a group.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li><li><strong>grouping_policy</strong>: <em>(object)</em><p>Combining events in groups, creating person from a group and attaching it to Luna API person lists policy.</p><ul><li><strong>ttl</strong>: <em>required (integer - minimum: 10 - maximum: 3600)</em><p>Time to live for each event group. If no new event is added to the group during this time, the group closes. The time is in seconds.</p></li><li><strong>grouper</strong>: <em>required (one of 1, 2, 3)</em><p>The event grouping policy:</p><ul><li>1 - By external track id.</li><li>2 - By similarity with last events from the same handler and source.</li><li>3 - Mixed grouping. By track id and similarity.</li></ul></li><li><strong>age</strong>: <em>(1 - default: 1)</em><p>Event group age aggregation:</p><ul><li>1 - Average value.</li></ul></li><li><strong>gender</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group gender aggregation:</p><ul><li>1 - Maximum deviation from 0.5.</li><li>2 - Average value.</li></ul></li><li><strong>search</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group search result aggregation:</p><ul><li>1 - Top 3 results from results sorted by similarity.</li><li>2 - Top 3 results from results sorted by majority voting.</li><li>3 - Top 3 results from results sorted by result of matching aggregate descriptor from all events vs lists.</li></ul></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. If an event descriptor is similar to a descriptor from the group with similarity more than the given threshold, an event will be added to the group. If there are several suitable groups, event will be added to the group with the most similar descriptor.</p></li><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a group policy. A person is created when the group is closed. This policy is incompatible with person creation from a descriptor.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li></ul></div><div class="tab-pane" id="handlers_post_response"><h2>HTTP status code <a href="http://httpstatus.es/201" target="_blank">201</a></h2><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Created handler id.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="handlers_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/handlers</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get created handler list.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#handlers_get_request" data-toggle="tab">Request</a></li><li><a href="#handlers_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="handlers_get_request"><h3>Query Parameters</h3><ul><li><strong>name</strong>: <em>required (string)</em><p>Handler name prefix to search.</p></li><li><strong>page</strong>: <em>(integer - default: 1 - minimum: 1)</em><p>Page number.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3</code></pre></div></li><li><strong>page_size</strong>: <em>(integer - default: 20 - minimum: 1 - maximum: 100)</em><p>Results count in page.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>30</code></pre></div></li></ul></div><div class="tab-pane" id="handlers_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>total</strong>: <em>required (integer)</em><p>Total found handlers count.</p></li><li><strong>hits</strong>: <em>required (array of handler)</em><p>Handlers list.</p><p><strong>Items</strong>: handler</p><div class="items"><ul><li><strong>name</strong>: <em>required (string)</em><p>Handler name.</p></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p></li><li><strong>type</strong>: <em>required (one of search, extract)</em><p>Handler type.</p></li><li><strong>extract_policy</strong>: <em>required (object)</em><p>Sets the flags that will be included when extracting a descriptor.</p><ul><li><strong>estimate_quality</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face image quality from the image.</p></li><li><strong>score_threshold</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Descriptor quality score threshold. All the face descriptors with quality score below the threshold will be ignored (and not stored in the DB). The function will proceed as usual with all the remaining descriptors (if left).</p></li><li><strong>estimate_attributes</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face attributes from the image.</p></li></ul></li><li><strong>multiple_faces_policy</strong>: <em>(one of 0, 1)</em><p>Whether to proceed multiple faces in an input image. Allowed only for "extract"-type handlers.</p></li><li><strong>search_policy</strong>: <em>(object)</em><p>Search similar descriptor policy. Required for "search"-type handlers.</p><ul><li><strong>search_lists</strong>: <em>required (array of search_list)</em><p>Luna API list list to search in.</p><p><strong>Items</strong>: search_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>list_type</strong>: <em>required (one of persons, descriptors)</em><p>Luna API list type.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. Matches with lower similarity will be acknowledged as failed.</p></li><li><strong>limit</strong>: <em>required (integer - minimum: 1 - maximum: 5)</em><p>The match result candidates count.</p></li></ul></div></li><li><strong>search_priority</strong>: <em>required (one of 1, 2)</em><p>Lists search priority.</p><ul><li>1 - Search is done in all lists, the results are combined.</li><li>2 - Search is done in order. If similarity is higher than the given <em>threshold</em>, the search stops.</li></ul></li></ul></li><li><strong>descriptor_policy</strong>: <em>(object)</em><p>Attaching the extracted descriptor to Luna API descriptor lists policy.</p><ul><li><strong>attach_policy</strong>: <em>required (array of attach_to_list)</em><p>Luna API list list to attach descriptor.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li><li><strong>person_policy</strong>: <em>(object)</em><p>Creating a person from the descriptor and then attaching it to Luna API person lists policy.</p><ul><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a descriptor policy. This policy is incompatible with person creation from a group.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li><li><strong>grouping_policy</strong>: <em>(object)</em><p>Combining events in groups, creating person from a group and attaching it to Luna API person lists policy.</p><ul><li><strong>ttl</strong>: <em>required (integer - minimum: 10 - maximum: 3600)</em><p>Time to live for each event group. If no new event is added to the group during this time, the group closes. The time is in seconds.</p></li><li><strong>grouper</strong>: <em>required (one of 1, 2, 3)</em><p>The event grouping policy:</p><ul><li>1 - By external track id.</li><li>2 - By similarity with last events from the same handler and source.</li><li>3 - Mixed grouping. By track id and similarity.</li></ul></li><li><strong>age</strong>: <em>(1 - default: 1)</em><p>Event group age aggregation:</p><ul><li>1 - Average value.</li></ul></li><li><strong>gender</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group gender aggregation:</p><ul><li>1 - Maximum deviation from 0.5.</li><li>2 - Average value.</li></ul></li><li><strong>search</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group search result aggregation:</p><ul><li>1 - Top 3 results from results sorted by similarity.</li><li>2 - Top 3 results from results sorted by majority voting.</li><li>3 - Top 3 results from results sorted by result of matching aggregate descriptor from all events vs lists.</li></ul></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. If an event descriptor is similar to a descriptor from the group with similarity more than the given threshold, an event will be added to the group. If there are several suitable groups, event will be added to the group with the most similar descriptor.</p></li><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a group policy. A person is created when the group is closed. This policy is incompatible with person creation from a descriptor.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li></ul></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error</strong>: <em>required (integer)</em><p>Error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_handlers__handler_id_"><span class="parent">/handlers</span>/{handler_id}</a> <span class="methods"><a href="#handlers__handler_id__put"><span class="badge badge_put">put</span></a> <a href="#handlers__handler_id__delete"><span class="badge badge_delete">delete</span></a> <a href="#handlers__handler_id__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_handlers__handler_id_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Functions to work with a separate handler.</p></div><div class="list-group"><div onclick="window.location.href = '#handlers__handler_id__put'" class="list-group-item"><span class="badge badge_put">put</span><div class="method_description"><p>Update handler by its id and body.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#handlers__handler_id__delete'" class="list-group-item"><span class="badge badge_delete">delete</span><div class="method_description"><p>Delete handler by its id.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#handlers__handler_id__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="handlers__handler_id__put"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_put">put</span> <span class="parent">/handlers</span>/{handler_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Update handler by its id and body.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#handlers__handler_id__put_request" data-toggle="tab">Request</a></li><li><a href="#handlers__handler_id__put_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="handlers__handler_id__put_request"><h3>URI Parameters</h3><ul><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>(application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>name</strong>: <em>required (string)</em><p>Handler name.</p></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p></li><li><strong>type</strong>: <em>required (one of search, extract)</em><p>Handler type.</p></li><li><strong>extract_policy</strong>: <em>required (object)</em><p>Sets the flags that will be included when extracting a descriptor.</p><ul><li><strong>estimate_quality</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face image quality from the image.</p></li><li><strong>score_threshold</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Descriptor quality score threshold. All the face descriptors with quality score below the threshold will be ignored (and not stored in the DB). The function will proceed as usual with all the remaining descriptors (if left).</p></li><li><strong>estimate_attributes</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face attributes from the image.</p></li></ul></li><li><strong>multiple_faces_policy</strong>: <em>(one of 0, 1)</em><p>Whether to proceed multiple faces in an input image. Allowed only for "extract"-type handlers.</p></li><li><strong>search_policy</strong>: <em>(object)</em><p>Search similar descriptor policy. Required for "search"-type handlers.</p><ul><li><strong>search_lists</strong>: <em>required (array of search_list)</em><p>Luna API list list to search in.</p><p><strong>Items</strong>: search_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>list_type</strong>: <em>required (one of persons, descriptors)</em><p>Luna API list type.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. Matches with lower similarity will be acknowledged as failed.</p></li><li><strong>limit</strong>: <em>required (integer - minimum: 1 - maximum: 5)</em><p>The match result candidates count.</p></li></ul></div></li><li><strong>search_priority</strong>: <em>required (one of 1, 2)</em><p>Lists search priority.</p><ul><li>1 - Search is done in all lists, the results are combined.</li><li>2 - Search is done in order. If similarity is higher than the given <em>threshold</em>, the search stops.</li></ul></li></ul></li><li><strong>descriptor_policy</strong>: <em>(object)</em><p>Attaching the extracted descriptor to Luna API descriptor lists policy.</p><ul><li><strong>attach_policy</strong>: <em>required (array of attach_to_list)</em><p>Luna API list list to attach descriptor.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li><li><strong>person_policy</strong>: <em>(object)</em><p>Creating a person from the descriptor and then attaching it to Luna API person lists policy.</p><ul><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a descriptor policy. This policy is incompatible with person creation from a group.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li><li><strong>grouping_policy</strong>: <em>(object)</em><p>Combining events in groups, creating person from a group and attaching it to Luna API person lists policy.</p><ul><li><strong>ttl</strong>: <em>required (integer - minimum: 10 - maximum: 3600)</em><p>Time to live for each event group. If no new event is added to the group during this time, the group closes. The time is in seconds.</p></li><li><strong>grouper</strong>: <em>required (one of 1, 2, 3)</em><p>The event grouping policy:</p><ul><li>1 - By external track id.</li><li>2 - By similarity with last events from the same handler and source.</li><li>3 - Mixed grouping. By track id and similarity.</li></ul></li><li><strong>age</strong>: <em>(1 - default: 1)</em><p>Event group age aggregation:</p><ul><li>1 - Average value.</li></ul></li><li><strong>gender</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group gender aggregation:</p><ul><li>1 - Maximum deviation from 0.5.</li><li>2 - Average value.</li></ul></li><li><strong>search</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group search result aggregation:</p><ul><li>1 - Top 3 results from results sorted by similarity.</li><li>2 - Top 3 results from results sorted by majority voting.</li><li>3 - Top 3 results from results sorted by result of matching aggregate descriptor from all events vs lists.</li></ul></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. If an event descriptor is similar to a descriptor from the group with similarity more than the given threshold, an event will be added to the group. If there are several suitable groups, event will be added to the group with the most similar descriptor.</p></li><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a group policy. A person is created when the group is closed. This policy is incompatible with person creation from a descriptor.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li></ul></div><div class="tab-pane" id="handlers__handler_id__put_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK, update succeed.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>name</strong>: <em>required (string)</em><p>Handler name.</p></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p></li><li><strong>type</strong>: <em>required (one of search, extract)</em><p>Handler type.</p></li><li><strong>extract_policy</strong>: <em>required (object)</em><p>Sets the flags that will be included when extracting a descriptor.</p><ul><li><strong>estimate_quality</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face image quality from the image.</p></li><li><strong>score_threshold</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Descriptor quality score threshold. All the face descriptors with quality score below the threshold will be ignored (and not stored in the DB). The function will proceed as usual with all the remaining descriptors (if left).</p></li><li><strong>estimate_attributes</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face attributes from the image.</p></li></ul></li><li><strong>multiple_faces_policy</strong>: <em>(one of 0, 1)</em><p>Whether to proceed multiple faces in an input image. Allowed only for "extract"-type handlers.</p></li><li><strong>search_policy</strong>: <em>(object)</em><p>Search similar descriptor policy. Required for "search"-type handlers.</p><ul><li><strong>search_lists</strong>: <em>required (array of search_list)</em><p>Luna API list list to search in.</p><p><strong>Items</strong>: search_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>list_type</strong>: <em>required (one of persons, descriptors)</em><p>Luna API list type.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. Matches with lower similarity will be acknowledged as failed.</p></li><li><strong>limit</strong>: <em>required (integer - minimum: 1 - maximum: 5)</em><p>The match result candidates count.</p></li></ul></div></li><li><strong>search_priority</strong>: <em>required (one of 1, 2)</em><p>Lists search priority.</p><ul><li>1 - Search is done in all lists, the results are combined.</li><li>2 - Search is done in order. If similarity is higher than the given <em>threshold</em>, the search stops.</li></ul></li></ul></li><li><strong>descriptor_policy</strong>: <em>(object)</em><p>Attaching the extracted descriptor to Luna API descriptor lists policy.</p><ul><li><strong>attach_policy</strong>: <em>required (array of attach_to_list)</em><p>Luna API list list to attach descriptor.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li><li><strong>person_policy</strong>: <em>(object)</em><p>Creating a person from the descriptor and then attaching it to Luna API person lists policy.</p><ul><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a descriptor policy. This policy is incompatible with person creation from a group.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li><li><strong>grouping_policy</strong>: <em>(object)</em><p>Combining events in groups, creating person from a group and attaching it to Luna API person lists policy.</p><ul><li><strong>ttl</strong>: <em>required (integer - minimum: 10 - maximum: 3600)</em><p>Time to live for each event group. If no new event is added to the group during this time, the group closes. The time is in seconds.</p></li><li><strong>grouper</strong>: <em>required (one of 1, 2, 3)</em><p>The event grouping policy:</p><ul><li>1 - By external track id.</li><li>2 - By similarity with last events from the same handler and source.</li><li>3 - Mixed grouping. By track id and similarity.</li></ul></li><li><strong>age</strong>: <em>(1 - default: 1)</em><p>Event group age aggregation:</p><ul><li>1 - Average value.</li></ul></li><li><strong>gender</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group gender aggregation:</p><ul><li>1 - Maximum deviation from 0.5.</li><li>2 - Average value.</li></ul></li><li><strong>search</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group search result aggregation:</p><ul><li>1 - Top 3 results from results sorted by similarity.</li><li>2 - Top 3 results from results sorted by majority voting.</li><li>3 - Top 3 results from results sorted by result of matching aggregate descriptor from all events vs lists.</li></ul></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. If an event descriptor is similar to a descriptor from the group with similarity more than the given threshold, an event will be added to the group. If there are several suitable groups, event will be added to the group with the most similar descriptor.</p></li><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a group policy. A person is created when the group is closed. This policy is incompatible with person creation from a descriptor.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="handlers__handler_id__delete"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_delete">delete</span> <span class="parent">/handlers</span>/{handler_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Delete handler by its id.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#handlers__handler_id__delete_request" data-toggle="tab">Request</a></li><li><a href="#handlers__handler_id__delete_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="handlers__handler_id__delete_request"><h3>URI Parameters</h3><ul><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul></div><div class="tab-pane" id="handlers__handler_id__delete_response"><h2>HTTP status code <a href="http://httpstatus.es/204" target="_blank">204</a></h2><p>No Content, deletion succeed.</p><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="handlers__handler_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/handlers</span>/{handler_id}</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#handlers__handler_id__get_request" data-toggle="tab">Request</a></li><li><a href="#handlers__handler_id__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="handlers__handler_id__get_request"><h3>URI Parameters</h3><ul><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul></div><div class="tab-pane" id="handlers__handler_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>A full handler description with its id.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>name</strong>: <em>required (string)</em><p>Handler name.</p></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p></li><li><strong>type</strong>: <em>required (one of search, extract)</em><p>Handler type.</p></li><li><strong>extract_policy</strong>: <em>required (object)</em><p>Sets the flags that will be included when extracting a descriptor.</p><ul><li><strong>estimate_quality</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face image quality from the image.</p></li><li><strong>score_threshold</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Descriptor quality score threshold. All the face descriptors with quality score below the threshold will be ignored (and not stored in the DB). The function will proceed as usual with all the remaining descriptors (if left).</p></li><li><strong>estimate_attributes</strong>: <em>(one of 0, 1)</em><p>Whether to estimate face attributes from the image.</p></li></ul></li><li><strong>multiple_faces_policy</strong>: <em>(one of 0, 1)</em><p>Whether to proceed multiple faces in an input image. Allowed only for "extract"-type handlers.</p></li><li><strong>search_policy</strong>: <em>(object)</em><p>Search similar descriptor policy. Required for "search"-type handlers.</p><ul><li><strong>search_lists</strong>: <em>required (array of search_list)</em><p>Luna API list list to search in.</p><p><strong>Items</strong>: search_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>list_type</strong>: <em>required (one of persons, descriptors)</em><p>Luna API list type.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. Matches with lower similarity will be acknowledged as failed.</p></li><li><strong>limit</strong>: <em>required (integer - minimum: 1 - maximum: 5)</em><p>The match result candidates count.</p></li></ul></div></li><li><strong>search_priority</strong>: <em>required (one of 1, 2)</em><p>Lists search priority.</p><ul><li>1 - Search is done in all lists, the results are combined.</li><li>2 - Search is done in order. If similarity is higher than the given <em>threshold</em>, the search stops.</li></ul></li></ul></li><li><strong>descriptor_policy</strong>: <em>(object)</em><p>Attaching the extracted descriptor to Luna API descriptor lists policy.</p><ul><li><strong>attach_policy</strong>: <em>required (array of attach_to_list)</em><p>Luna API list list to attach descriptor.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li><li><strong>person_policy</strong>: <em>(object)</em><p>Creating a person from the descriptor and then attaching it to Luna API person lists policy.</p><ul><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a descriptor policy. This policy is incompatible with person creation from a group.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li><li><strong>grouping_policy</strong>: <em>(object)</em><p>Combining events in groups, creating person from a group and attaching it to Luna API person lists policy.</p><ul><li><strong>ttl</strong>: <em>required (integer - minimum: 10 - maximum: 3600)</em><p>Time to live for each event group. If no new event is added to the group during this time, the group closes. The time is in seconds.</p></li><li><strong>grouper</strong>: <em>required (one of 1, 2, 3)</em><p>The event grouping policy:</p><ul><li>1 - By external track id.</li><li>2 - By similarity with last events from the same handler and source.</li><li>3 - Mixed grouping. By track id and similarity.</li></ul></li><li><strong>age</strong>: <em>(1 - default: 1)</em><p>Event group age aggregation:</p><ul><li>1 - Average value.</li></ul></li><li><strong>gender</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group gender aggregation:</p><ul><li>1 - Maximum deviation from 0.5.</li><li>2 - Average value.</li></ul></li><li><strong>search</strong>: <em>(one of 1, 2 - default: 2)</em><p>Event group search result aggregation:</p><ul><li>1 - Top 3 results from results sorted by similarity.</li><li>2 - Top 3 results from results sorted by majority voting.</li><li>3 - Top 3 results from results sorted by result of matching aggregate descriptor from all events vs lists.</li></ul></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. If an event descriptor is similar to a descriptor from the group with similarity more than the given threshold, an event will be added to the group. If there are several suitable groups, event will be added to the group with the most similar descriptor.</p></li><li><strong>create_person_policy</strong>: <em>required (object)</em><p>Create person from a group policy. A person is created when the group is closed. This policy is incompatible with person creation from a descriptor.</p><ul><li><strong>create_person</strong>: <em>required (one of 0, 1)</em><p>Whether to create a person.</p></li><li><strong>create_filters</strong>: <em>(object)</em><p>Filter set regulating whether to create a person.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li><li><strong>attach_policy</strong>: <em>(array of attach_to_list)</em><p>Filter set regulating whether to attach a created person to a Luna API persons list.</p><p><strong>Items</strong>: attach_to_list</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to attach an object to.</p></li><li><strong>filters</strong>: <em>(object)</em><p>Filter set regulating whether to attach an object to a Luna API list.</p><ul><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>age_range</strong>: <em>(object)</em><p>Age range filters.</p><ul><li><strong>start</strong>: <em>required (integer - minimum: 0)</em><p>The lower age boundary.</p></li><li><strong>end</strong>: <em>required (integer - minimum: 0)</em><p>The upper age boundary.</p></li></ul></li><li><strong>similarity_filter</strong>: <em>(object)</em><p>Search results filter.</p><ul><li><strong>policy</strong>: <em>required (one of 1, 2)</em><p>Matching result check policy.</p><ul><li>1 - Filter is passed if any of Luna API lists has object with similarity higher than the threshold.</li><li>2 - Filter is passed if no object was found with similarity higher than the threshold.</li></ul></li><li><strong>lists</strong>: <em>required (array of list_filter)</em><p><strong>Items</strong>: list_filter</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list id.</p></li><li><strong>threshold</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The similarity threshold for selected list.</p></li></ul></div></li></ul></li></ul></li></ul></div></li></ul></li></ul></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="receivers" class="panel-title">/receivers</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_receivers__handler_id_"><span class="parent">/receivers</span>/{handler_id}</a> <span class="methods"><a href="#receivers__handler_id__post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_receivers__handler_id_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Event receiver for the selected handler.</p></div><div class="list-group"><div onclick="window.location.href = '#receivers__handler_id__post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Pictures are received on the input. There must be exactly one face in the picture for handles with type search. Images are accepted in formats supported by Luna API, including base64, although xpk-files and descriptors are not supported. One can specify <em>user_data</em> for person creation, the <em>tags</em> that are associated with the event and the <em>warped_image</em> flag in the query parameters. The parameters for extracting a descriptor in the Luna API such as <em>estimate_quality</em>, <em>score_threshold</em> and <em>estimate_attributes</em> are set directly in the handler.</p><p>You can also set the <em>external_id</em> parameter, which will determine which group to match the event to. It makes sense if the appropriate grouping functions are set in the handler.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="receivers__handler_id__post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/receivers</span>/{handler_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Pictures are received on the input. There must be exactly one face in the picture for handles with type search. Images are accepted in formats supported by Luna API, including base64, although xpk-files and descriptors are not supported. One can specify <em>user_data</em> for person creation, the <em>tags</em> that are associated with the event and the <em>warped_image</em> flag in the query parameters. The parameters for extracting a descriptor in the Luna API such as <em>estimate_quality</em>, <em>score_threshold</em> and <em>estimate_attributes</em> are set directly in the handler.</p><p>You can also set the <em>external_id</em> parameter, which will determine which group to match the event to. It makes sense if the appropriate grouping functions are set in the handler.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#receivers__handler_id__post_request" data-toggle="tab">Request</a></li><li><a href="#receivers__handler_id__post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="receivers__handler_id__post_request"><h3>URI Parameters</h3><ul><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (one of image/jpeg, image/png, image/bmp, image/tiff, image/gif, image/x-portable-pixmap, image/x-jpeg-base64, image/x-png-base64, image/x-bmp-base64, image/x-tiff-base64, image/x-gif-base64, image/x-portable-pixmap-base64)</em><p>The input image media type indicator. Basic image extensions and their base64 encoding are supported.</p></li></ul><h3>Query Parameters</h3><ul><li><strong>user_data</strong>: <em>(string - maxLength: 128)</em><p>Information that will be added to the person that is created from the descriptor. This parameter makes sense if the handler has a policy for creating a person from the descriptor.</p></li><li><strong>warped_image</strong>: <em>(one of 0, 1 - default: 0)</em><p>A flag indicating that the picture is warped, a description of the warped images is in the Luna API.</p></li><li><strong>external_id</strong>: <em>(string)</em><p>A track external_id, by which the event group is determined.</p></li><li><strong>tags</strong>: <em>(string)</em><p><code>%2C</code>-separated tag list to be associated with the event.</p></li><li><strong>source</strong>: <em>(string)</em><p>An event source label.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: image/jpeg</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/png</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/bmp</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/tiff</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/gif</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-windows-bmp</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-portable-pixmap</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-jpeg-base64</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-png-base64</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-bmp-base64</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-tiff-base64</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-gif-base64</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-windows-bmp-base64</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: image/x-portable-pixmap-base64</p><p><strong>Type</strong>: object</p></div><div class="tab-pane" id="receivers__handler_id__post_response"><h2>HTTP status code <a href="http://httpstatus.es/201" target="_blank">201</a></h2><p>An event created successfully.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>events</strong>: <em>required (array of event)</em><p>Event list.</p><p><strong>Items</strong>: event</p><div class="items"><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Event id. If event created successfully, event id is equal to the extracted descriptor id. If error occurred, event id is generated randomly.</p></li><li><strong>descriptor_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Corresponding descriptor id.</p></li><li><strong>person_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the descriptor.</p></li><li><strong>user_data</strong>: <em>required (string - maxLength: 128)</em><p>User_data of a person created from the descriptor.</p></li><li><strong>descriptors_lists</strong>: <em>required (array of UUID4)</em><p>Luna API descriptor list list the descriptor is attached to.</p></li><li><strong>persons_lists</strong>: <em>required (array of UUID4)</em><p>Luna API person list list the created from a descriptor person is attached to.</p></li><li><strong>group_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a group the event belongs to.</p></li><li><strong>external_id</strong>: <em>required (string)</em><p>The event external id.</p></li><li><strong>error</strong>: <em>required (object)</em><p>Error description</p><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul></li><li><strong>search_by_group</strong>: <em>required (object)</em><p>Search by recent events result.</p><ul><li><strong>candidates</strong>: <em>required (array of core_match)</em><p>Array of matching results.</p><p><strong>Items</strong>: core_match</p><div class="items"><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Matched descriptor identifier.</p></li><li><strong>similarity</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity with the reference descriptor.</p><ul><li>1 means that descriptors are obtained from identical images</li><li>numbers close to 1 mean the descriptors a from the same person</li><li>numbers close to 0 mean the descriptors a from different persons</li></ul></li></ul></div></li></ul></li><li><strong>extract</strong>: <em>required (object)</em><p>Descriptor extraction result.</p><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Face descriptor unique identifier.</p></li><li><strong>rect</strong>: <em>(object)</em><p>Face detection bounding box.</p><ul><li><strong>height</strong>: <em>required (integer)</em><p>Rectangle height.</p></li><li><strong>width</strong>: <em>required (integer)</em><p>Rectangle width.</p></li><li><strong>x</strong>: <em>required (integer)</em><p>Top left corner x coordinate.</p></li><li><strong>y</strong>: <em>required (integer)</em><p>Top left corner y coordinate.</p></li></ul></li><li><strong>rectISO</strong>: <em>(object)</em><p>Face portrait bounding box.</p><ul><li><strong>height</strong>: <em>required (integer)</em><p>Rectangle height.</p></li><li><strong>width</strong>: <em>required (integer)</em><p>Rectangle width.</p></li><li><strong>x</strong>: <em>required (integer)</em><p>Top left corner x coordinate.</p></li><li><strong>y</strong>: <em>required (integer)</em><p>Top left corner y coordinate.</p></li></ul></li><li><strong>score</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Face detection confidence.</p></li><li><strong>quality?</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Image quality estimation.</p></li><li><strong>attributes</strong>: <em>(object)</em><p>Face attributes estimation.</p><ul><li><strong>age</strong>: <em>required (number - minimum: 0 - maximum: 100)</em><p>Age estimation (in years).</p></li><li><strong>gender</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Gender estimation.</p><ul><li>0 - female</li><li>1 - male</li></ul></li><li><strong>eyeGlasses</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Estimates whether the person wears eye glasses.</p><ul><li>0 - no glasses</li><li>1 - eye glasses This attribute does not classify eyewear, i.e. both sunglasses and transparent glasses are reported as 1.</li></ul></li></ul></li></ul></li><li><strong>search</strong>: <em>required (array of search_result)</em><p>Search by Luna API lists results.</p><p><strong>Items</strong>: search_result</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list in which the search proceed.</p></li><li><strong>candidates</strong>: <em>required (core_match_result[] | match[])</em><p>Search result candidates.</p></li></ul></div></li><li><strong>tags</strong>: <em>required (array of string)</em><p>Event&#39;s tag list.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Event create time.</p></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Event handler id.</p></li><li><strong>source</strong>: <em>required (string)</em><p>Event source.</p></li></ul></div></li><li><strong>total</strong>: <em>required (integer - minimum: 0)</em><p>Total found events count.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="events" class="panel-title">/events</h3></div><div class="panel-body"><div class="top-resource-description"><p>The resource for getting events.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_events"><span class="parent"></span>/events</a> <span class="methods"><a href="#events_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_events" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#events_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get all the events according to the specified filters.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="events_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/events</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get all the events according to the specified filters.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#events_get_request" data-toggle="tab">Request</a></li><li><a href="#events_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="events_get_request"><h3>Query Parameters</h3><ul><li><strong>tags</strong>: <em>(string)</em><p><code>%2C</code>-separated tag list. Result events will have all the given tags.</p></li><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>handler_ids</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p><code>%2C</code>-separated handler_id list. Result events will be from one of the given handlers.</p></li><li><strong>sources</strong>: <em>(string)</em><p><code>%2C</code>-separated event source list. Result events will have one of the given sources.</p></li><li><strong>age__gt</strong>: <em>(number - minimum: 0 - maximum: 100)</em><p>The lower age boundary.</p></li><li><strong>age__lt</strong>: <em>(integer - minimum: 0 - maximum: 100)</em><p>The upper age boundary.</p></li><li><strong>similarity__gt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The lower similarity boundary.</p></li><li><strong>similarity__lt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The upper similarity boundary.</p></li><li><strong>group_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of the group the event belongs to.</p></li><li><strong>external_id</strong>: <em>(string)</em><p>The event external id.</p></li><li><strong>sim_descriptor</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a similar descriptor in the descriptor search response.</p></li><li><strong>sim_person</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a similar person in the descriptor search response.</p></li><li><strong>sim_list</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a list the descriptor was searched in.</p></li><li><strong>sim_user_data</strong>: <em>(string)</em><p>User_data of a similar person in the descriptor search response. Search is performed by a substring.</p></li><li><strong>user_data</strong>: <em>(string)</em><p>User_data of a person created from the descriptor.</p></li><li><strong>person_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the descriptor.</p></li><li><strong>create_time__gt</strong>: <em>(datetime)</em><p>The lower boundary of the event occurrence time period.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2017-03-22T16:04:25Z</code></pre></div></li><li><strong>create_time__lt</strong>: <em>(datetime)</em><p>The upper boundary of the event occurrence time period.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2017-03-22T16:04:25Z</code></pre></div></li><li><strong>page</strong>: <em>(integer - default: 1 - minimum: 1)</em><p>Page number.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3</code></pre></div></li><li><strong>page_size</strong>: <em>(integer - default: 20 - minimum: 1 - maximum: 100)</em><p>Results count in page.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>30</code></pre></div></li></ul></div><div class="tab-pane" id="events_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>hits</strong>: <em>required (array of event)</em><p>Event list.</p><p><strong>Items</strong>: event</p><div class="items"><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Event id. If event created successfully, event id is equal to the extracted descriptor id. If error occurred, event id is generated randomly.</p></li><li><strong>descriptor_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Corresponding descriptor id.</p></li><li><strong>person_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the descriptor.</p></li><li><strong>user_data</strong>: <em>required (string - maxLength: 128)</em><p>User_data of a person created from the descriptor.</p></li><li><strong>descriptors_lists</strong>: <em>required (array of UUID4)</em><p>Luna API descriptor list list the descriptor is attached to.</p></li><li><strong>persons_lists</strong>: <em>required (array of UUID4)</em><p>Luna API person list list the created from a descriptor person is attached to.</p></li><li><strong>group_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a group the event belongs to.</p></li><li><strong>external_id</strong>: <em>required (string)</em><p>The event external id.</p></li><li><strong>error</strong>: <em>required (object)</em><p>Error description</p><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul></li><li><strong>search_by_group</strong>: <em>required (object)</em><p>Search by recent events result.</p><ul><li><strong>candidates</strong>: <em>required (array of core_match)</em><p>Array of matching results.</p><p><strong>Items</strong>: core_match</p><div class="items"><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Matched descriptor identifier.</p></li><li><strong>similarity</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity with the reference descriptor.</p><ul><li>1 means that descriptors are obtained from identical images</li><li>numbers close to 1 mean the descriptors a from the same person</li><li>numbers close to 0 mean the descriptors a from different persons</li></ul></li></ul></div></li></ul></li><li><strong>extract</strong>: <em>required (object)</em><p>Descriptor extraction result.</p><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Face descriptor unique identifier.</p></li><li><strong>rect</strong>: <em>(object)</em><p>Face detection bounding box.</p><ul><li><strong>height</strong>: <em>required (integer)</em><p>Rectangle height.</p></li><li><strong>width</strong>: <em>required (integer)</em><p>Rectangle width.</p></li><li><strong>x</strong>: <em>required (integer)</em><p>Top left corner x coordinate.</p></li><li><strong>y</strong>: <em>required (integer)</em><p>Top left corner y coordinate.</p></li></ul></li><li><strong>rectISO</strong>: <em>(object)</em><p>Face portrait bounding box.</p><ul><li><strong>height</strong>: <em>required (integer)</em><p>Rectangle height.</p></li><li><strong>width</strong>: <em>required (integer)</em><p>Rectangle width.</p></li><li><strong>x</strong>: <em>required (integer)</em><p>Top left corner x coordinate.</p></li><li><strong>y</strong>: <em>required (integer)</em><p>Top left corner y coordinate.</p></li></ul></li><li><strong>score</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Face detection confidence.</p></li><li><strong>quality?</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Image quality estimation.</p></li><li><strong>attributes</strong>: <em>(object)</em><p>Face attributes estimation.</p><ul><li><strong>age</strong>: <em>required (number - minimum: 0 - maximum: 100)</em><p>Age estimation (in years).</p></li><li><strong>gender</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Gender estimation.</p><ul><li>0 - female</li><li>1 - male</li></ul></li><li><strong>eyeGlasses</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Estimates whether the person wears eye glasses.</p><ul><li>0 - no glasses</li><li>1 - eye glasses This attribute does not classify eyewear, i.e. both sunglasses and transparent glasses are reported as 1.</li></ul></li></ul></li></ul></li><li><strong>search</strong>: <em>required (array of search_result)</em><p>Search by Luna API lists results.</p><p><strong>Items</strong>: search_result</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list in which the search proceed.</p></li><li><strong>candidates</strong>: <em>required (core_match_result[] | match[])</em><p>Search result candidates.</p></li></ul></div></li><li><strong>tags</strong>: <em>required (array of string)</em><p>Event&#39;s tag list.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Event create time.</p></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Event handler id.</p></li><li><strong>source</strong>: <em>required (string)</em><p>Event source.</p></li></ul></div></li><li><strong>total</strong>: <em>required (integer - minimum: 0)</em><p>Total found events count.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_events_stats"><span class="parent">/events</span>/stats</a> <span class="methods"><a href="#events_stats_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_events_stats" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#events_stats_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Obtain events statistical data according to the specified filters.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="events_stats_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/events</span>/stats</h4></div><div class="modal-body"><div class="alert alert-info"><p>Obtain events statistical data according to the specified filters.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#events_stats_get_request" data-toggle="tab">Request</a></li><li><a href="#events_stats_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="events_stats_get_request"><h3>Query Parameters</h3><ul><li><strong>aggregator</strong>: <em>required (one of avg, max, min, count)</em><p>The aggregation type - receive average, maximum, minimum values or count inside the groups.</p></li><li><strong>group_by</strong>: <em>required (string)</em><p>Grouping events by time.</p><p>Grouping is possible in two ways:</p><p>1) Grouping by time intervals - number and dimension:</p><table class="table"><thead><tr><th>The parameter value</th><th>Description</th></tr></thead><tbody><tr><td><code>1m</code></td><td>one minute</td></tr><tr><td><code>2h</code></td><td>two hours</td></tr><tr><td><code>7d</code></td><td>seven days</td></tr><tr><td><code>5w</code></td><td>five weeks</td></tr><tr><td><code>3M</code></td><td>three months</td></tr><tr><td><code>10y</code></td><td>ten years</td></tr></tbody></table><p>There are restrictions for <code>group_by</code> field that depend on the value of the time interval <code> create_time</code> of the events, set by the filters <code>create_time__gt</code> and <code>create_time__lt</code> for the first grouping method:</p><table class="table"><thead><tr><th>The minimum <code>group_by</code> value</th><th>for maximum <code> create_time</code> value</th></tr></thead><tbody><tr><td><code>5s</code></td><td><code>1 hour</code></td></tr><tr><td><code>1m</code></td><td><code>1 day</code></td></tr><tr><td><code>10m</code></td><td><code>1 month</code></td></tr><tr><td><code>1h</code></td><td><code>1 year</code></td></tr><tr><td><code>1d</code></td><td><code>infinity</code></td></tr></tbody></table><p>2) The frequency grouping - one of the following:</p><table class="table"><thead><tr><th>The parameter value</th><th>Description</th></tr></thead><tbody><tr><td><code>monthOfYear</code></td><td>by month of year</td></tr><tr><td><code>dayOfYear</code></td><td>by day of year</td></tr><tr><td><code>dayOfMonth</code></td><td>by day of month</td></tr><tr><td><code>dayOfWeek</code></td><td>by day of week</td></tr><tr><td><code>hourOfDay</code></td><td>by hours of day</td></tr><tr><td><code>minuteOfDay</code></td><td>by minutes of day</td></tr></tbody></table></li><li><strong>target</strong>: <em>(one of age, gender)</em><p>The field to do aggregation on - the value calculation, in the manner specified in the <code>aggregator</code> parameter, within the groups.</p><p>Required field when using an aggregation method other than <code>count</code>.</p></li><li><strong>tags</strong>: <em>(string)</em><p><code>%2C</code>-separated tag list. Result events will have all the given tags.</p></li><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>handler_ids</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p><code>%2C</code>-separated handler_id list. Result events will be from one of the given handlers.</p></li><li><strong>sources</strong>: <em>(string)</em><p><code>%2C</code>-separated event source list. Result events will have one of the given sources.</p></li><li><strong>age__gt</strong>: <em>(number - minimum: 0 - maximum: 100)</em><p>The lower age boundary.</p></li><li><strong>age__lt</strong>: <em>(integer - minimum: 0 - maximum: 100)</em><p>The upper age boundary.</p></li><li><strong>similarity__gt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The lower similarity boundary.</p></li><li><strong>group_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of the group the event belongs to.</p></li><li><strong>external_id</strong>: <em>(string)</em><p>The event external id.</p></li><li><strong>sim_descriptor</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a similar descriptor in the descriptor search response.</p></li><li><strong>sim_person</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a similar person in the descriptor search response.</p></li><li><strong>sim_list</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a list the descriptor was searched in.</p></li><li><strong>sim_user_data</strong>: <em>(string)</em><p>User_data of a similar person in the descriptor search response. Search is performed by a substring.</p></li><li><strong>user_data</strong>: <em>(string)</em><p>User_data of a person created from the descriptor.</p></li><li><strong>person_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the descriptor.</p></li><li><strong>create_time__gt</strong>: <em>(datetime)</em><p>The lower boundary of the event occurrence time period.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2017-03-22T16:04:25Z</code></pre></div></li><li><strong>create_time__lt</strong>: <em>(datetime)</em><p>The upper boundary of the event occurrence time period.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2017-03-22T16:04:25Z</code></pre></div></li></ul></div><div class="tab-pane" id="events_stats_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>total</strong>: <em>required (integer - minimum: 0)</em><p>Result count in response.</p></li><li><strong>hits</strong>: <em>required (array of object[])</em><p>Result array. Result is an ordered key-value pair: the key format depends on the grouping method, the format of the value is number. Pay attention that day grouping periods start as in GMT time zone. For example, if the Facestreammanager 2 is located in time zone GMT+03:00, than day starts is at 03:00 in local time.</p></li></ul><p><strong>Examples</strong>:</p><div class="examples"><p><strong>groupStep1d</strong>:<br></p><pre><code>{
  "hits": [
    [
      "2017-11-14T03:00:00Z",
      11
    ],
    [
      "2017-11-15T03:00:00Z",
      47
    ]
  ],
  "total": 2
}</code></pre><p><strong>groupStep1dAvgAge</strong>:<br></p><pre><code>{
  "hits": [
    [
      "2017-11-14T03:00:00Z",
      27.96410233322184
    ],
    [
      "2017-11-15T03:00:00Z",
      34.33495368785891
    ]
  ],
  "total": 2
}</code></pre><p><strong>groupStep1dMaxGender</strong>:<br></p><pre><code>{
  "hits": [
    [
      "2017-11-14T03:00:00Z",
      0.8214666400490959
    ],
    [
      "2017-11-15T03:00:00Z",
      0.7103766001908647
    ]
  ],
  "total": 2
}</code></pre><p><strong>daysOfWeekCount</strong>:<br></p><pre><code>{
  "hits": [
    [
      "1",
      1
    ],
    [
      "2",
      2
    ],
    [
      "3",
      41
    ],
    [
      "4",
      8
    ],
    [
      "5",
      0
    ],
    [
      "6",
      32
    ],
    [
      "7",
      64
    ]
  ],
  "total": 7
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Malformed request.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 12012,
  "detail": "Bad query parameter &#39;aggregator&#39;"
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_events__event_id_"><span class="parent">/events</span>/{event_id}</a> <span class="methods"><a href="#events__event_id__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_events__event_id_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#events__event_id__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="events__event_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/events</span>/{event_id}</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#events__event_id__get_request" data-toggle="tab">Request</a></li><li><a href="#events__event_id__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="events__event_id__get_request"><h3>URI Parameters</h3><ul><li><strong>event_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Event id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul></div><div class="tab-pane" id="events__event_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Event id. If event created successfully, event id is equal to the extracted descriptor id. If error occurred, event id is generated randomly.</p></li><li><strong>descriptor_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Corresponding descriptor id.</p></li><li><strong>person_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the descriptor.</p></li><li><strong>user_data</strong>: <em>required (string - maxLength: 128)</em><p>User_data of a person created from the descriptor.</p></li><li><strong>descriptors_lists</strong>: <em>required (array of UUID4)</em><p>Luna API descriptor list list the descriptor is attached to.</p></li><li><strong>persons_lists</strong>: <em>required (array of UUID4)</em><p>Luna API person list list the created from a descriptor person is attached to.</p></li><li><strong>group_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a group the event belongs to.</p></li><li><strong>external_id</strong>: <em>required (string)</em><p>The event external id.</p></li><li><strong>error</strong>: <em>required (object)</em><p>Error description</p><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul></li><li><strong>search_by_group</strong>: <em>required (object)</em><p>Search by recent events result.</p><ul><li><strong>candidates</strong>: <em>required (array of core_match)</em><p>Array of matching results.</p><p><strong>Items</strong>: core_match</p><div class="items"><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Matched descriptor identifier.</p></li><li><strong>similarity</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Similarity with the reference descriptor.</p><ul><li>1 means that descriptors are obtained from identical images</li><li>numbers close to 1 mean the descriptors a from the same person</li><li>numbers close to 0 mean the descriptors a from different persons</li></ul></li></ul></div></li></ul></li><li><strong>extract</strong>: <em>required (object)</em><p>Descriptor extraction result.</p><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Face descriptor unique identifier.</p></li><li><strong>rect</strong>: <em>(object)</em><p>Face detection bounding box.</p><ul><li><strong>height</strong>: <em>required (integer)</em><p>Rectangle height.</p></li><li><strong>width</strong>: <em>required (integer)</em><p>Rectangle width.</p></li><li><strong>x</strong>: <em>required (integer)</em><p>Top left corner x coordinate.</p></li><li><strong>y</strong>: <em>required (integer)</em><p>Top left corner y coordinate.</p></li></ul></li><li><strong>rectISO</strong>: <em>(object)</em><p>Face portrait bounding box.</p><ul><li><strong>height</strong>: <em>required (integer)</em><p>Rectangle height.</p></li><li><strong>width</strong>: <em>required (integer)</em><p>Rectangle width.</p></li><li><strong>x</strong>: <em>required (integer)</em><p>Top left corner x coordinate.</p></li><li><strong>y</strong>: <em>required (integer)</em><p>Top left corner y coordinate.</p></li></ul></li><li><strong>score</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Face detection confidence.</p></li><li><strong>quality?</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Image quality estimation.</p></li><li><strong>attributes</strong>: <em>(object)</em><p>Face attributes estimation.</p><ul><li><strong>age</strong>: <em>required (number - minimum: 0 - maximum: 100)</em><p>Age estimation (in years).</p></li><li><strong>gender</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Gender estimation.</p><ul><li>0 - female</li><li>1 - male</li></ul></li><li><strong>eyeGlasses</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Estimates whether the person wears eye glasses.</p><ul><li>0 - no glasses</li><li>1 - eye glasses This attribute does not classify eyewear, i.e. both sunglasses and transparent glasses are reported as 1.</li></ul></li></ul></li></ul></li><li><strong>search</strong>: <em>required (array of search_result)</em><p>Search by Luna API lists results.</p><p><strong>Items</strong>: search_result</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list in which the search proceed.</p></li><li><strong>candidates</strong>: <em>required (core_match_result[] | match[])</em><p>Search result candidates.</p></li></ul></div></li><li><strong>tags</strong>: <em>required (array of string)</em><p>Event&#39;s tag list.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Event create time.</p></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Event handler id.</p></li><li><strong>source</strong>: <em>required (string)</em><p>Event source.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="events_groups" class="panel-title">/events_groups</h3></div><div class="panel-body"><div class="top-resource-description"><p>The resource for getting event groups.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_events_groups"><span class="parent"></span>/events_groups</a> <span class="methods"><a href="#events_groups_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_events_groups" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#events_groups_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get all the event groups according to the specified filters.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="events_groups_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/events_groups</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get all the event groups according to the specified filters.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#events_groups_get_request" data-toggle="tab">Request</a></li><li><a href="#events_groups_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="events_groups_get_request"><h3>Query Parameters</h3><ul><li><strong>tags</strong>: <em>(string)</em><p><code>%2C</code>-separated tag list. Result groups will have all the given tags.</p></li><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>handler_ids</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p><code>%2C</code>-separated handler_id list. Result groups will be from one of the given handlers.</p></li><li><strong>sources</strong>: <em>(string)</em><p><code>%2C</code>-separated event source list. Result groups will have one of the given sources.</p></li><li><strong>age__gt</strong>: <em>required (string)</em><p>The lower age boundary.</p></li><li><strong>age__lt</strong>: <em>required (integer - minimum: 0 - maximum: 100)</em><p>The upper age boundary.</p></li><li><strong>similarity__gt</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The lower similarity boundary.</p></li><li><strong>similarity__lt</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The upper similarity boundary.</p></li><li><strong>external_id</strong>: <em>(string)</em><p>The events external id.</p></li><li><strong>sim_descriptor</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a similar descriptor in the descriptor search response.</p></li><li><strong>sim_person</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a similar person in the descriptor search response.</p></li><li><strong>sim_list</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a list the descriptor was searched in.</p></li><li><strong>sim_user_data</strong>: <em>(string)</em><p>User_data of a similar person in the descriptor search response. Search is performed by a substring.</p></li><li><strong>user_data</strong>: <em>(string)</em><p>User_data of a person created from the group.</p></li><li><strong>person_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the group.</p></li><li><strong>create_time__gt</strong>: <em>(datetime)</em><p>The lower boundary of the group creation time period.</p></li><li><strong>create_time__lt</strong>: <em>(datetime)</em><p>The upper boundary of the group creation time period.</p></li><li><strong>page</strong>: <em>(integer - default: 1 - minimum: 1)</em><p>Page number.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3</code></pre></div></li><li><strong>page_size</strong>: <em>(integer - default: 20 - minimum: 1 - maximum: 100)</em><p>Results count in page.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>30</code></pre></div></li></ul></div><div class="tab-pane" id="events_groups_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>hits</strong>: <em>required (array of group)</em><p>Group list.</p><p><strong>Items</strong>: group</p><div class="items"><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Group id.</p></li><li><strong>person_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the group.</p></li><li><strong>descriptors</strong>: <em>required (array of UUID4)</em><p>Descriptor list (=event list) of the group.</p></li><li><strong>last_update</strong>: <em>required (datetime)</em><p>Group last update time. It also coincides with the group close time.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Group create time.</p></li><li><strong>source</strong>: <em>required (string)</em><p>Group&#39;s events&#39; source.</p></li><li><strong>ttl</strong>: <em>required (integer - minimum: 10 - maximum: 3600)</em><p>Time to live for each event group. If no new event is added to the group during this time, the group closes. The time is in seconds.</p></li><li><strong>external_tracks_id</strong>: <em>required (array of UUID4)</em><p>The group events&#39; external ids list.</p></li><li><strong>attributes</strong>: <em>required (object)</em><p>Agregated group&#39;s events&#39; attributes.</p><ul><li><strong>age</strong>: <em>required (integer - minimum: 0)</em><p>Group age. Group age is calculated according to the handler group policy.</p></li><li><strong>gender</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Group gender. Group gender is calculated according to the handler group policy.</p></li></ul></li><li><strong>search</strong>: <em>required (array of search_result_for_group)</em><p>A search result for the event group is calculated according to the handler policy.</p><p><strong>Items</strong>: search_result_for_group</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list in which objects were searched.</p></li><li><strong>candidate</strong>: <em>required (core_match_result|match)</em><p>Search result.</p></li></ul></div></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a handler a group was created on.</p></li><li><strong>persons_lists</strong>: <em>required (array of UUID4)</em><p>Luna API person list list the created from group person is attached to.</p></li><li><strong>tags</strong>: <em>required (array of string)</em></li></ul></div></li><li><strong>total</strong>: <em>required (integer - minimum: 0)</em><p>Total groups count.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_events_groups_stats"><span class="parent">/events_groups</span>/stats</a> <span class="methods"><a href="#events_groups_stats_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_events_groups_stats" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#events_groups_stats_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Obtain event groups statistical data according to the specified filters.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="events_groups_stats_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/events_groups</span>/stats</h4></div><div class="modal-body"><div class="alert alert-info"><p>Obtain event groups statistical data according to the specified filters.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#events_groups_stats_get_request" data-toggle="tab">Request</a></li><li><a href="#events_groups_stats_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="events_groups_stats_get_request"><h3>Query Parameters</h3><ul><li><strong>aggregator</strong>: <em>required (one of avg, max, min, count)</em><p>The aggregation type - receive average, maximum, minimum values or count inside the groups.</p></li><li><strong>group_by</strong>: <em>required (string)</em><p>Grouping event groups by time.</p><p>Grouping is possible in two ways:</p><p>1) Grouping by time intervals - number and dimension:</p><table class="table"><thead><tr><th>The parameter value</th><th>Description</th></tr></thead><tbody><tr><td><code>1m</code></td><td>one minute</td></tr><tr><td><code>2h</code></td><td>two hours</td></tr><tr><td><code>7d</code></td><td>seven days</td></tr><tr><td><code>5w</code></td><td>five weeks</td></tr><tr><td><code>3M</code></td><td>three months</td></tr><tr><td><code>10y</code></td><td>ten years</td></tr></tbody></table><p>There are restrictions for <code>group_by</code> field that depend on the value of the time interval <code> create_time</code> of the event groups, set by the filters <code>create_time__gt</code> and <code>create_time__lt</code> for the first grouping method:</p><table class="table"><thead><tr><th>The minimum <code>group_by</code> value</th><th>for maximum <code> create_time</code> value</th></tr></thead><tbody><tr><td><code>5s</code></td><td><code>1 hour</code></td></tr><tr><td><code>1m</code></td><td><code>1 day</code></td></tr><tr><td><code>10m</code></td><td><code>1 month</code></td></tr><tr><td><code>1h</code></td><td><code>1 year</code></td></tr><tr><td><code>1d</code></td><td><code>infinity</code></td></tr></tbody></table><p>2) The frequency grouping - one of the following:</p><table class="table"><thead><tr><th>The parameter value</th><th>Description</th></tr></thead><tbody><tr><td><code>monthOfYear</code></td><td>by month of year</td></tr><tr><td><code>dayOfYear</code></td><td>by day of year</td></tr><tr><td><code>dayOfMonth</code></td><td>by day of month</td></tr><tr><td><code>dayOfWeek</code></td><td>by day of week</td></tr><tr><td><code>hourOfDay</code></td><td>by hours of day</td></tr><tr><td><code>minuteOfDay</code></td><td>by minutes of day</td></tr></tbody></table></li><li><strong>target</strong>: <em>(one of age, gender)</em><p>The field to do aggregation on - the value calculation, in the manner specified in the <code>aggregator</code> parameter, within the groups.</p><p>Required field when using an aggregation method other than <code>count</code>.</p></li><li><strong>tags</strong>: <em>(string)</em><p><code>%2C</code>-separated tag list. Result event groups will have all the given tags.</p></li><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>handler_ids</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p><code>%2C</code>-separated handler_id list. Result groups will be from one of the given handlers.</p></li><li><strong>sources</strong>: <em>(string)</em><p><code>%2C</code>-separated event source list. Result groups will have one of the given sources.</p></li><li><strong>age__gt</strong>: <em>required (string)</em><p>The lower age boundary.</p></li><li><strong>age__lt</strong>: <em>required (integer - minimum: 0 - maximum: 100)</em><p>The upper age boundary.</p></li><li><strong>similarity__gt</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>The lower similarity boundary.</p></li><li><strong>external_id</strong>: <em>(string)</em><p>The events external id.</p></li><li><strong>sim_descriptor</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a similar descriptor in the descriptor search response.</p></li><li><strong>sim_person</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a similar person in the descriptor search response.</p></li><li><strong>sim_list</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a list the descriptor was searched in.</p></li><li><strong>sim_user_data</strong>: <em>(string)</em><p>User_data of a similar person in the descriptor search response. Search is performed by a substring.</p></li><li><strong>user_data</strong>: <em>(string)</em><p>User_data of a person created from the group descriptors.</p></li><li><strong>person_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the group descriptors.</p></li><li><strong>create_time__gt</strong>: <em>(datetime)</em><p>The lower boundary of the group creation time period.</p></li><li><strong>create_time__lt</strong>: <em>(datetime)</em><p>The upper boundary of the group creation time period.</p></li></ul></div><div class="tab-pane" id="events_groups_stats_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>total</strong>: <em>required (integer - minimum: 0)</em><p>Result count in response.</p></li><li><strong>hits</strong>: <em>required (array of object[])</em><p>Result array. Result is an ordered key-value pair: the key format depends on the grouping method, the format of the value is number. Pay attention that day grouping periods start as in GMT time zone. For example, if the Facestreammanager 2 is located in time zone GMT+03:00, than day starts is at 03:00 in local time.</p></li></ul><p><strong>Examples</strong>:</p><div class="examples"><p><strong>groupStep1d</strong>:<br></p><pre><code>{
  "hits": [
    [
      "2017-11-14T03:00:00Z",
      11
    ],
    [
      "2017-11-15T03:00:00Z",
      47
    ]
  ],
  "total": 2
}</code></pre><p><strong>groupStep1dAvgAge</strong>:<br></p><pre><code>{
  "hits": [
    [
      "2017-11-14T03:00:00Z",
      27.96410233322184
    ],
    [
      "2017-11-15T03:00:00Z",
      34.33495368785891
    ]
  ],
  "total": 2
}</code></pre><p><strong>groupStep1dMaxGender</strong>:<br></p><pre><code>{
  "hits": [
    [
      "2017-11-14T03:00:00Z",
      0.8214666400490959
    ],
    [
      "2017-11-15T03:00:00Z",
      0.7103766001908647
    ]
  ],
  "total": 2
}</code></pre><p><strong>daysOfWeekCount</strong>:<br></p><pre><code>{
  "hits": [
    [
      "1",
      1
    ],
    [
      "2",
      2
    ],
    [
      "3",
      41
    ],
    [
      "4",
      8
    ],
    [
      "5",
      0
    ],
    [
      "6",
      32
    ],
    [
      "7",
      64
    ]
  ],
  "total": 7
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>Malformed request.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 12012,
  "detail": "Bad query parameter &#39;aggregator&#39;"
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_events_groups__group_id_"><span class="parent">/events_groups</span>/{group_id}</a> <span class="methods"><a href="#events_groups__group_id__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_events_groups__group_id_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#events_groups__group_id__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="events_groups__group_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/events_groups</span>/{group_id}</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#events_groups__group_id__get_request" data-toggle="tab">Request</a></li><li><a href="#events_groups__group_id__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="events_groups__group_id__get_request"><h3>URI Parameters</h3><ul><li><strong>group_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Group id</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul></div><div class="tab-pane" id="events_groups__group_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Group id.</p></li><li><strong>person_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a person created from the group.</p></li><li><strong>descriptors</strong>: <em>required (array of UUID4)</em><p>Descriptor list (=event list) of the group.</p></li><li><strong>last_update</strong>: <em>required (datetime)</em><p>Group last update time. It also coincides with the group close time.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Group create time.</p></li><li><strong>source</strong>: <em>required (string)</em><p>Group&#39;s events&#39; source.</p></li><li><strong>ttl</strong>: <em>required (integer - minimum: 10 - maximum: 3600)</em><p>Time to live for each event group. If no new event is added to the group during this time, the group closes. The time is in seconds.</p></li><li><strong>external_tracks_id</strong>: <em>required (array of UUID4)</em><p>The group events&#39; external ids list.</p></li><li><strong>attributes</strong>: <em>required (object)</em><p>Agregated group&#39;s events&#39; attributes.</p><ul><li><strong>age</strong>: <em>required (integer - minimum: 0)</em><p>Group age. Group age is calculated according to the handler group policy.</p></li><li><strong>gender</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Group gender. Group gender is calculated according to the handler group policy.</p></li></ul></li><li><strong>search</strong>: <em>required (array of search_result_for_group)</em><p>A search result for the event group is calculated according to the handler policy.</p><p><strong>Items</strong>: search_result_for_group</p><div class="items"><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Luna API list in which objects were searched.</p></li><li><strong>candidate</strong>: <em>required (core_match_result|match)</em><p>Search result.</p></li></ul></div></li><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a handler a group was created on.</p></li><li><strong>persons_lists</strong>: <em>required (array of UUID4)</em><p>Luna API person list list the created from group person is attached to.</p></li><li><strong>tags</strong>: <em>required (array of string)</em></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="storage" class="panel-title">/storage</h3></div><div class="panel-body"><div class="top-resource-description"><p>Input image storage.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_storage_events__event_id_"><span class="parent">/storage/events</span>/{event_id}</a> <span class="methods"><a href="#storage_events__event_id__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_storage_events__event_id_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Get the original event image.</p></div><div class="list-group"><div onclick="window.location.href = '#storage_events__event_id__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="storage_events__event_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/storage/events</span>/{event_id}</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#storage_events__event_id__get_request" data-toggle="tab">Request</a></li><li><a href="#storage_events__event_id__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="storage_events__event_id__get_request"><h3>URI Parameters</h3><ul><li><strong>event_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Event id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul></div><div class="tab-pane" id="storage_events__event_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (image/jpeg)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: image/jpeg</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="ws" class="panel-title">/ws</h3></div><div class="panel-body"><div class="top-resource-description"><p>WebSocket subscription resource to subscribe on events and groups.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_ws__handler_id__events"><span class="parent">/ws/{handler_id}</span>/events</a> <span class="methods"><a href="#ws__handler_id__events_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_ws__handler_id__events" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#ws__handler_id__events_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Subscription on event creation. Subscription occurs via WebSockets.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="ws__handler_id__events_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/ws/{handler_id}</span>/events</h4></div><div class="modal-body"><div class="alert alert-info"><p>Subscription on event creation. Subscription occurs via WebSockets.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#ws__handler_id__events_get_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="ws__handler_id__events_get_request"><h3>URI Parameters</h3><ul><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_ws__handler_id__events_groups"><span class="parent">/ws/{handler_id}</span>/events_groups</a> <span class="methods"><a href="#ws__handler_id__events_groups_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_ws__handler_id__events_groups" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#ws__handler_id__events_groups_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Subscription on group creation and updation. Subscription occurs via WebSockets.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="ws__handler_id__events_groups_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/ws/{handler_id}</span>/events_groups</h4></div><div class="modal-body"><div class="alert alert-info"><p>Subscription on group creation and updation. Subscription occurs via WebSockets.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#ws__handler_id__events_groups_get_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="ws__handler_id__events_groups_get_request"><h3>URI Parameters</h3><ul><li><strong>handler_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Handler id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>35ad2201-8baf-465b-82eb-9aafada847d1</code></pre></div></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="luna_api" class="panel-title">/luna_api</h3></div><div class="panel-body"><div class="top-resource-description"><p>Proxy resource for queries in the Luna API.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_luna_api__url_for_api_"><span class="parent">/luna_api</span>/{url_for_api}</a> <span class="methods"><a href="#luna_api__url_for_api__post"><span class="badge badge_post">post</span></a> <a href="#luna_api__url_for_api__get"><span class="badge badge_get">get</span></a> <a href="#luna_api__url_for_api__patch"><span class="badge badge_patch">patch</span></a> <a href="#luna_api__url_for_api__delete"><span class="badge badge_delete">delete</span></a></span></h4></div><div id="panel_luna_api__url_for_api_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Proxy resource for queries in the Luna API. For example, if you want to create a list, then instead of querying in the LUNA API <code>http://127.0.0.1:5000/3/storage/lists?type=descriptors</code> one can make a request to the address <code>/luna_api/storage/lists?type=descriptors</code></p></div><div class="list-group"><div onclick="window.location.href = '#luna_api__url_for_api__post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"></div><div class="clearfix"></div></div><div onclick="window.location.href = '#luna_api__url_for_api__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"></div><div class="clearfix"></div></div><div onclick="window.location.href = '#luna_api__url_for_api__patch'" class="list-group-item"><span class="badge badge_patch">patch</span><div class="method_description"></div><div class="clearfix"></div></div><div onclick="window.location.href = '#luna_api__url_for_api__delete'" class="list-group-item"><span class="badge badge_delete">delete</span><div class="method_description"></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="luna_api__url_for_api__post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/luna_api</span>/{url_for_api}</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#luna_api__url_for_api__post_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="luna_api__url_for_api__post_request"><h3>URI Parameters</h3><ul><li><strong>url_for_api</strong>: <em>required (string)</em><p>Luna API resource url</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>storage/portraits/470e28c3-ed4f-49c5-af35-573e0fd06652</code></pre></div></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="luna_api__url_for_api__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/luna_api</span>/{url_for_api}</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#luna_api__url_for_api__get_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="luna_api__url_for_api__get_request"><h3>URI Parameters</h3><ul><li><strong>url_for_api</strong>: <em>required (string)</em><p>Luna API resource url</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>storage/portraits/470e28c3-ed4f-49c5-af35-573e0fd06652</code></pre></div></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="luna_api__url_for_api__patch"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_patch">patch</span> <span class="parent">/luna_api</span>/{url_for_api}</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#luna_api__url_for_api__patch_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="luna_api__url_for_api__patch_request"><h3>URI Parameters</h3><ul><li><strong>url_for_api</strong>: <em>required (string)</em><p>Luna API resource url</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>storage/portraits/470e28c3-ed4f-49c5-af35-573e0fd06652</code></pre></div></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="luna_api__url_for_api__delete"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_delete">delete</span> <span class="parent">/luna_api</span>/{url_for_api}</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#luna_api__url_for_api__delete_request" data-toggle="tab">Request</a></li></ul><div class="tab-content"><div class="tab-pane active" id="luna_api__url_for_api__delete_request"><h3>URI Parameters</h3><ul><li><strong>url_for_api</strong>: <em>required (string)</em><p>Luna API resource url</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>storage/portraits/470e28c3-ed4f-49c5-af35-573e0fd06652</code></pre></div></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="analytics" class="panel-title">/analytics</h3></div><div class="panel-body"><div class="top-resource-description"><p>The resource to set up data analysis tasks.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_analytics_probability_calculator"><span class="parent">/analytics</span>/probability_calculator</a> <span class="methods"><a href="#analytics_probability_calculator_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_analytics_probability_calculator" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>The probability calculating resource of hitting the top of the result of matching by the list of persons. The calculation is performed according to the following steps:</p><ul><li>all persons with more than one descriptor attached are sought in the input Luna API person list;</li><li>a Luna API list of descriptors corresponding to the found persons forms a list of references;</li><li>all persons&#39; descriptors in the input Luna API person list are put in the Luna API descriptor list, which is created for each task separately;</li><li>Each etalon descriptor is matched with the created list;</li><li>the hit top 1, 2, ..., n probability is counted.</li></ul><p>For technical reasons, you can calculate only the top 4, with a default maximum response of 5. Pay attention, that the calculated result is actually slightly less than the real one, since we are eliminating the selfmatches when calculating. Also, worth noting that the figures are calculated for the given set of extracted descriptors. If a descriptor was received from a different data set than the photos in the list, the probability may be different. For example, if all descriptors are extracted from high-quality photos, and a descriptor for searching was extracted from low-quality photo, then the probability of finding will change.</p></div><div class="list-group"><div onclick="window.location.href = '#analytics_probability_calculator_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Create a task to calculate the hit top n probability of the Luna API person list.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="analytics_probability_calculator_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/analytics</span>/probability_calculator</h4></div><div class="modal-body"><div class="alert alert-info"><p>Create a task to calculate the hit top n probability of the Luna API person list.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#analytics_probability_calculator_post_request" data-toggle="tab">Request</a></li><li><a href="#analytics_probability_calculator_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="analytics_probability_calculator_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API person list.</p></li><li><strong>top_n</strong>: <em>required (integer - default: 4)</em><p>The N - top positions count to get result on. As a result there will be an array with the format</p></li><li><strong>description</strong>: <em>(string)</em><p>User task description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "list_id": "b3ed1366-e6b5-4a63-9b4c-25ccfb07f310",
  "top_n": 4,
  "description": "bad guys"
}</code></pre></div></div><div class="tab-pane" id="analytics_probability_calculator_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Accepted</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which the response body is represented</p></li><li><strong>Location</strong>: <em>required (string)</em><p>A url to watch the created task progress.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>/api/1/tasks/146</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>task_id</strong>: <em>required (integer - minimum: 1)</em><p>Task id. Equals to task number.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "task_id": 146
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_analytics_clusterizer"><span class="parent">/analytics</span>/clusterizer</a> <span class="methods"><a href="#analytics_clusterizer_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_analytics_clusterizer" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>The resource for clustering data by unique people.</p><p>Clustering can be done by the Luna API (any of descriptor or person) lists, events, groups. Only one clusterization input type can be used at a time.</p></div><div class="list-group"><div onclick="window.location.href = '#analytics_clusterizer_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Create a task to form clusters.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="analytics_clusterizer_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/analytics</span>/clusterizer</h4></div><div class="modal-body"><div class="alert alert-info"><p>Create a task to form clusters.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#analytics_clusterizer_post_request" data-toggle="tab">Request</a></li><li><a href="#analytics_clusterizer_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="analytics_clusterizer_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>description</strong>: <em>(string)</em><p>User task description.</p></li><li><strong>objects</strong>: <em>required (one of events, groups, luna_list)</em></li><li><strong>filters</strong>: <em>required (object)</em><p>Filter set, that regulates objects to clusterize.</p><ul><li><strong>tags</strong>: <em>(array of )</em><p><code>%2C</code>-separated objects&#39; tag list. Result objects will have all the given tags.</p></li><li><strong>age__lt</strong>: <em>(integer - minimum: 0 - maximum: 100)</em><p>The upper age boundary.</p></li><li><strong>create_time__gt</strong>: <em>(datetime)</em><p>The lower boundary of the object creation time period.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2017-03-22T16:04:25Z</code></pre></div></li><li><strong>sources</strong>: <em>(array of )</em><p><code>%2C</code>-separated event source list. Result objects will have one of the given sources.</p></li><li><strong>similarity__gt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The lower similarity boundary.</p></li><li><strong>age__gt</strong>: <em>(string)</em><p>The lower age boundary.</p></li><li><strong>handler_ids</strong>: <em>(array of UUID4)</em><p><code>%2C</code>-separated handler_id list. Result objects will be from one of the given handlers.</p></li><li><strong>create_time__lt</strong>: <em>(datetime)</em><p>The upper boundary of the object creation time period.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2017-03-22T16:04:25Z</code></pre></div></li><li><strong>similarity__lt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The upper similarity boundary.</p></li><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>list_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>A Luna API list id. If this filter is set, other filters are ignored.</p></li></ul></li><li><strong>threshold</strong>: <em>(float)</em><p>If objects are similar more than this threshold, they belong to the same cluster. Threshold will be calculated if not set.</p></li></ul><p><strong>Examples</strong>:</p><div class="examples"><p><strong>luna_list</strong>:<br></p><pre><code>{
  "objects": "luna_list",
  "filters": {
    "list_id": "35ad2201-8baf-465b-82eb-9aafada847d1"
  }
}</code></pre><p><strong>events</strong>:<br></p><pre><code>{
  "objects": "events",
  "filters": {
    "tags": [
      "beer",
      "fish"
    ],
    "gender": 1,
    "sources": [
      "south_exit_1",
      "south_exit_3"
    ],
    "create_time__gt": "2017-03-19T16:04:25Z",
    "create_time__lt": "2017-03-21T16:04:25Z"
  }
}</code></pre></div></div><div class="tab-pane" id="analytics_clusterizer_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Accepted</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which the response body is represented</p></li><li><strong>Location</strong>: <em>required (string)</em><p>A url to watch the created task progress.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>/api/1/tasks/146</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>task_id</strong>: <em>required (integer - minimum: 1)</em><p>Task id. Equals to task number.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "task_id": 146
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_analytics_cross_matcher"><span class="parent">/analytics</span>/cross_matcher</a> <span class="methods"><a href="#analytics_cross_matcher_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_analytics_cross_matcher" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>The resource for cross-matching between lists or matching between events and the subsequent construction of reports.</p></div><div class="list-group"><div onclick="window.location.href = '#analytics_cross_matcher_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Create a cross-match task request. You can match events, groups and the Luna API list objects with the Luna API list.</p><p>Attention! The maximum number of the result match objects, is limited to 40,000, in case of exceeding objects with minimax similarity are discarded.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="analytics_cross_matcher_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/analytics</span>/cross_matcher</h4></div><div class="modal-body"><div class="alert alert-info"><p>Create a cross-match task request. You can match events, groups and the Luna API list objects with the Luna API list.</p><p>Attention! The maximum number of the result match objects, is limited to 40,000, in case of exceeding objects with minimax similarity are discarded.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#analytics_cross_matcher_post_request" data-toggle="tab">Request</a></li><li><a href="#analytics_cross_matcher_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="analytics_cross_matcher_post_request"><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>(application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>references</strong>: <em>required (object)</em><p>Objects to match.</p><ul><li><strong>objects</strong>: <em>required (one of events, groups, luna_list)</em></li><li><strong>filters</strong>: <em>required (object)</em><p>Filter set, that regulates cross-match references.</p><ul><li><strong>tags</strong>: <em>(array of )</em><p><code>%2C</code>-separated objects&#39; tag list. Result objects will have all the given tags.</p></li><li><strong>age__lt</strong>: <em>(integer - minimum: 0 - maximum: 100)</em><p>The upper age boundary.</p></li><li><strong>create_time__gt</strong>: <em>(datetime)</em><p>The lower boundary of the object creation time period.</p></li><li><strong>sources</strong>: <em>(array of )</em><p><code>%2C</code>-separated event source list. Result objects will have one of the given sources.</p></li><li><strong>similarity__gt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The lower similarity boundary.</p></li><li><strong>age__gt</strong>: <em>(string)</em><p>The lower age boundary.</p></li><li><strong>handler_ids</strong>: <em>(array of UUID4)</em><p><code>%2C</code>-separated handler_id list. Result objects will be from one of the given handlers.</p></li><li><strong>create_time__lt</strong>: <em>(datetime)</em><p>The upper boundary of the object creation time period.</p></li><li><strong>similarity__lt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The upper similarity boundary.</p></li><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>list_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>A Luna API list id. If this filter is set, other filters are ignored.</p></li></ul></li></ul></li><li><strong>candidates</strong>: <em>required (object)</em><p>Objects to match with.</p><ul><li><strong>list_id</strong>: <em>required (string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a list to match with.</p></li></ul></li><li><strong>description</strong>: <em>(string)</em><p>User task description.</p></li><li><strong>threshold</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>Similarity threshold. Matches with lower similarity will be ignored.</p></li><li><strong>limit</strong>: <em>(number - minimum: 1 - maximum: 1000000)</em><p>The references count maximum to match.</p></li></ul></div><div class="tab-pane" id="analytics_cross_matcher_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Accepted</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which the response body is represented</p></li><li><strong>Location</strong>: <em>required (string)</em><p>A url to watch the created task progress.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>/api/1/tasks/146</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>task_id</strong>: <em>required (integer - minimum: 1)</em><p>Task id. Equals to task number.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "task_id": 146
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_analytics_tasks"><span class="parent">/analytics</span>/tasks</a> <span class="methods"><a href="#analytics_tasks_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_analytics_tasks" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>The resource to work with completed tasks</p></div><div class="list-group"><div onclick="window.location.href = '#analytics_tasks_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Retrieving a list of completed tasks</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="analytics_tasks_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/analytics</span>/tasks</h4></div><div class="modal-body"><div class="alert alert-info"><p>Retrieving a list of completed tasks</p></div><ul class="nav nav-tabs"><li class="active"><a href="#analytics_tasks_get_request" data-toggle="tab">Request</a></li><li><a href="#analytics_tasks_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="analytics_tasks_get_request"><h3>Query Parameters</h3><ul><li><strong>task_type</strong>: <em>(one of clusterization, hit_top_n, reports, cross_matching, linking)</em><p>Task type.</p></li><li><strong>status</strong>: <em>(one of done, failed, cancelled)</em><p>Task status.</p></li><li><strong>description</strong>: <em>(string)</em><p>Task description.</p></li><li><strong>page</strong>: <em>(integer - default: 1 - minimum: 1)</em><p>Page number.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3</code></pre></div></li><li><strong>page_size</strong>: <em>(integer - default: 20 - minimum: 1 - maximum: 100)</em><p>Results count in page.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>30</code></pre></div></li></ul></div><div class="tab-pane" id="analytics_tasks_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which the response body is represented</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: array of ended_task_for_list</p><p><strong>Items</strong>: ended_task_for_list</p><div class="items"><ul><li><strong>type</strong>: <em>required (one of clusterization, hit_top_n, linking, cross_matching, report)</em><p>Task type.</p></li><li><strong>id</strong>: <em>required (integer)</em><p>Task id.</p></li><li><strong>description</strong>: <em>required (string)</em><p>User task description.</p></li><li><strong>progress</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Task progress.</p></li><li><strong>status</strong>: <em>required (one of done, cancelled, failed)</em><p>Task status.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Task create time.</p></li><li><strong>last_update</strong>: <em>required (datetime)</em><p>Task last update time. It also coincides with the task completion or cancellation time.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "type": "hit_top_n",
    "id": 146,
    "description": "vip",
    "progress": 1,
    "status": "done",
    "create_time": "2017-03-22T16:04:25Z",
    "last_update": "2017-03-22T16:04:25Z"
  },
  {
    "type": "hit_top_n",
    "id": 147,
    "description": "bad guys",
    "progress": 0.4,
    "status": "cancelled",
    "create_time": "2017-03-22T16:04:25Z",
    "last_update": "2017-03-22T16:04:25Z"
  },
  {
    "type": "cross_matching",
    "id": 146,
    "description": "south_exit_list vs west_exit_list",
    "progress": 1,
    "status": "done",
    "create_time": "2017-03-22T16:04:25Z",
    "last_update": "2017-03-22T16:04:25Z"
  },
  {
    "type": "cross_matching",
    "id": 147,
    "description": "west exit vs south_exit_list",
    "progress": 0.4,
    "status": "cancelled",
    "create_time": "2017-03-22T16:04:25Z",
    "last_update": "2017-03-22T16:04:25Z"
  }
]</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/303" target="_blank">303</a></h2><p>Redirecting if task result is report.</p><h3>Headers</h3><ul><li><strong>Location</strong>: <em>required (string)</em><p>Created report location.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>/api/1/reports/1227</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_analytics_tasks__task_id_"><span class="parent">/analytics/tasks</span>/{task_id}</a> <span class="methods"><a href="#analytics_tasks__task_id__delete"><span class="badge badge_delete">delete</span></a> <a href="#analytics_tasks__task_id__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_analytics_tasks__task_id_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#analytics_tasks__task_id__delete'" class="list-group-item"><span class="badge badge_delete">delete</span><div class="method_description"><p>delete task</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#analytics_tasks__task_id__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get a task by id.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="analytics_tasks__task_id__delete"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_delete">delete</span> <span class="parent">/analytics/tasks</span>/{task_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>delete task</p></div><ul class="nav nav-tabs"><li class="active"><a href="#analytics_tasks__task_id__delete_request" data-toggle="tab">Request</a></li><li><a href="#analytics_tasks__task_id__delete_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="analytics_tasks__task_id__delete_request"><h3>URI Parameters</h3><ul><li><strong>task_id</strong>: <em>required (integer)</em><p>Task id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>146</code></pre></div></li></ul></div><div class="tab-pane" id="analytics_tasks__task_id__delete_response"><h2>HTTP status code <a href="http://httpstatus.es/204" target="_blank">204</a></h2><p>The task result was successfully deleted.</p><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>An indicator of the media type of the response body.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="analytics_tasks__task_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/analytics/tasks</span>/{task_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get a task by id.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#analytics_tasks__task_id__get_request" data-toggle="tab">Request</a></li><li><a href="#analytics_tasks__task_id__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="analytics_tasks__task_id__get_request"><h3>URI Parameters</h3><ul><li><strong>task_id</strong>: <em>required (integer)</em><p>Task id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>146</code></pre></div></li></ul></div><div class="tab-pane" id="analytics_tasks__task_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Ok</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator, in which the response body is represented</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>type</strong>: <em>required (one of clusterization, hit_top_n, linking, report, cross_matching)</em><p>Task type.</p></li><li><strong>id</strong>: <em>required (integer)</em><p>Task id.</p></li><li><strong>task</strong>: <em>required (clusterization_param | hit_top_n_params | cross_matching_params | linker_params | report_param)</em><p>Input task.</p></li><li><strong>result</strong>: <em>required (clusterizationResult | hitTopResult | crossMatchingResult | linkingResult | reportResult)</em><p>Task result.</p></li><li><strong>progress</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Task progress.</p></li><li><strong>status</strong>: <em>required (one of cancelled, done, failed)</em><p>Task status.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Task create time.</p></li><li><strong>last_update</strong>: <em>required (datetime)</em><p>Task last update time. It also coincides with the task completion or cancellation time.</p></li></ul><p><strong>Examples</strong>:</p><div class="examples"><p><strong>success_hit_top_n</strong>:<br></p><pre><code>{
  "type": "hit_top_n",
  "id": 12,
  "progress": 1,
  "status": "done",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "n": 4,
    "list_id": "e70c2a6e-920c-4380-aa04-b6236a9746c3",
    "description": "vip clients"
  },
  "result": {
    "errors": {
      "total": 0
    },
    "success": {
      "total": 4,
      "tops": [
        0.9590645803,
        0.9615717126,
        0.9628685052,
        0.9633872223
      ]
    }
  }
}</code></pre><p><strong>cancelled_hit_top_n</strong>:<br></p><pre><code>{
  "type": "hit_top_n",
  "id": 12,
  "progress": 0.47,
  "status": "cancelled",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "description": "vip clients",
    "n": 4,
    "list_id": "e70c2a6e-920c-4380-aa04-b6236a9746c3"
  },
  "result": {
    "errors": {
      "total": 0
    }
  }
}</code></pre><p><strong>error_hit_top_n</strong>:<br></p><pre><code>{
  "type": "hit_top_n",
  "id": 12,
  "progress": 0,
  "status": "failed",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "description": "bad guys",
    "n": 4,
    "list_id": "e70c2a6e-920c-4380-aa04-b6236a9746c3"
  },
  "result": {
    "errors": {
      "total": 1,
      "errors": [
        {
          "error_code": 10005,
          "detail": "Account list not found"
        }
      ]
    }
  }
}</code></pre><p><strong>success_clusterization_events</strong>:<br></p><pre><code>{
  "type": "clusterization",
  "id": 12,
  "progress": 1,
  "status": "done",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "description": "2017-01-19 2017-01-21 south exit men",
    "objects": "events",
    "filters": {
      "tags": [
        "beer",
        "fish"
      ],
      "gender": 1,
      "sources": [
        "south_exit_1",
        "south_exit_3"
      ],
      "create_time__gt": "2017-03-19T16:04:25Z",
      "create_time__lt": "2017-03-21T16:04:25Z"
    }
  },
  "result": {
    "errors": {
      "total": 0
    },
    "success": {
      "total_objects": 146,
      "total_clusters": 87,
      "clusters": [
        [
          {
            "id": "d48a314d-999e-4238-aff5-aef1c7cce416",
            "source": "cam2",
            "create_time": "2018-01-12T14:27:19Z",
            "tags": [],
            "age": 23.5465583801,
            "gender": "3.589e-07"
          },
          {
            "id": "7f749289-674e-4b55-910a-0f75e2efcac6",
            "source": "cam2",
            "create_time": "2018-01-12T14:27:18Z",
            "tags": [],
            "age": 27.0517024994,
            "gender": "2.81838e-05"
          }
        ],
        [
          {
            "id": "6c8aaf8c-ead2-494e-9269-06fd64604d84",
            "source": "cam3",
            "create_time": "2018-01-12T14:27:19Z",
            "tags": [],
            "age": 23.0504188538,
            "gender": "3.4246200000000004e-05"
          }
        ]
      ]
    }
  }
}</code></pre><p><strong>success_clusterization_groups</strong>:<br></p><pre><code>{
  "type": "clusterization",
  "id": 12,
  "progress": 1,
  "status": "done",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "description": "2017-01-19 2017-01-21 south exit men",
    "objects": "events",
    "filters": {
      "tags": [
        "beer",
        "fish"
      ],
      "gender": 1,
      "sources": [
        "south_exit_1",
        "south_exit_3"
      ],
      "create_time__gt": "2017-03-19T16:04:25Z",
      "create_time__lt": "2017-03-21T16:04:25Z"
    }
  },
  "result": {
    "errors": {
      "total": 0
    },
    "success": {
      "total_objects": 146,
      "total_clusters": 87,
      "clusters": [
        [
          {
            "create_time": "2018-01-12T14:33:43Z",
            "gender": 0.00039942410000000004,
            "age": 24,
            "source": "cam1",
            "id": "27d5b363-dcf6-4c5f-9796-a61db2138106",
            "tags": [
              "beer",
              "vodka"
            ]
          },
          {
            "create_time": "2018-01-12T14:33:41Z",
            "gender": 0.00016355270000000002,
            "age": 23,
            "source": "cam1",
            "id": "525e5182-c09a-49d1-82e3-336b541ab16e",
            "tags": [
              "beer",
              "vodka"
            ]
          }
        ],
        [
          {
            "create_time": "2018-01-12T14:33:44Z",
            "gender": 0.9999735753000001,
            "age": 47,
            "source": "cam1",
            "id": "5f5054fb-3b2a-48db-ae1b-21effaeaa902",
            "tags": [
              "vodka"
            ]
          }
        ]
      ]
    }
  }
}</code></pre><p><strong>success_clusterization__descriptors_list</strong>:<br></p><pre><code>{
  "type": "clusterization",
  "id": 13,
  "progress": 1,
  "status": "done",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "description": "list vip",
    "objects": "luna_list",
    "filters": {
      "list_id": "7e66be24-1e47-490f-86a1-f8dc5862ac5d"
    }
  },
  "result": {
    "errors": {
      "total": 0
    },
    "success": {
      "total_clusters": "354,",
      "total_objects": 1146,
      "clusters": [
        [
          {
            "person_id": "44fcd400-3b8a-488d-a3dc-ad9b142bbaa3",
            "lists": [
              "7e66be24-1e47-490f-86a1-f8dc5862ac5d"
            ],
            "last_update": "2018-01-12T14:13:20.802016Z",
            "id": "9a159f59-d69e-4ea0-953f-2947e514a028"
          },
          {
            "person_id": "e9d01230-0c3b-4ad0-9c8c-f8d3c9f49409",
            "lists": [
              "7e66be24-1e47-490f-86a1-f8dc5862ac5d"
            ],
            "last_update": "2018-01-12T14:13:20.167164Z",
            "id": "36cc5e36-2ed0-4aea-b7f7-1a9155f67568"
          }
        ],
        [
          {
            "person_id": "745e99ae-f5a8-45dc-9f57-9f2b39dd5512",
            "lists": [
              "7e66be24-1e47-490f-86a1-f8dc5862ac5d"
            ],
            "last_update": "2018-01-12T14:13:18.847540Z",
            "id": "0dba20f8-84f3-4686-a7d9-b8942063a700"
          }
        ]
      ]
    }
  }
}</code></pre><p><strong>success_clusterization_persons_list</strong>:<br></p><pre><code>{
  "type": "clusterization",
  "id": 13,
  "progress": 1,
  "status": "done",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "description": "list vip",
    "objects": "luna_list",
    "filters": {
      "list_id": "f641a5d2-cac0-43ee-8fd3-d207d4f8f832"
    }
  },
  "result": {
    "errors": {
      "total": 0
    },
    "success": {
      "total_clusters": "354,",
      "total_objects": 1146,
      "clusters": [
        [
          {
            "descriptors": [
              "e69f89a5-7e59-4dc2-9938-aa2332207939"
            ],
            "user_data": "Anna Kurnikova",
            "create_time": "2018-01-12T14:21:47.121569Z",
            "lists": [
              "f641a5d2-cac0-43ee-8fd3-d207d4f8f832"
            ],
            "id": "3acd7f88-9e38-4afc-8b79-a718e4b27027"
          },
          {
            "descriptors": [
              "dd3aa736-db87-496a-a343-5e14f1918521"
            ],
            "user_data": "Anna",
            "create_time": "2018-01-12T14:21:46.633660Z",
            "lists": [
              "f641a5d2-cac0-43ee-8fd3-d207d4f8f832"
            ],
            "id": "459b2a58-3230-4d85-b0d0-fdb414bbd474"
          }
        ],
        [
          {
            "descriptors": [
              "56ef1793-7aee-45aa-817e-48f0b91f5bfb"
            ],
            "user_data": "",
            "create_time": "2018-01-12T14:21:45.440286Z",
            "lists": [
              "f641a5d2-cac0-43ee-8fd3-d207d4f8f832"
            ],
            "id": "6e8b6eba-cf72-4dcc-b80c-c8108180205e"
          }
        ]
      ]
    }
  }
}</code></pre><p><strong>clusterization_cancelled</strong>:<br></p><pre><code>{
  "type": "clusterization",
  "id": 12,
  "progress": 1,
  "status": "done",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "description": "2017-01-19 2017-01-21 south exit young men",
    "objects": "events",
    "filters": {
      "tags": [
        "beer",
        "fish"
      ],
      "gender": 1,
      "age__gt": 10,
      "age__lt": 30,
      "similarity__gt": 0.6,
      "create_time__gt": "2017-03-19T16:04:25Z",
      "create_time__lt": "2017-03-21T16:04:25Z"
    }
  },
  "result": {
    "errors": {
      "total": 0
    }
  }
}</code></pre><p><strong>clusterization_error</strong>:<br></p><pre><code>{
  "type": "clusterization",
  "id": 12,
  "progress": 1,
  "status": "done",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:06:25Z",
  "task": {
    "description": "2017-01-19 2017-01-21 south exit men",
    "objects": "events",
    "filtres": {
      "tags": [
        "beer",
        "fish"
      ],
      "gender": 1,
      "sources": [
        "south_exit_1",
        "south_exit_3"
      ],
      "create_time__gt": "2017-03-19T16:04:25Z",
      "create_time__lt": "2017-03-21T16:04:25Z"
    }
  },
  "result": {
    "errors": [
      {
        "error_code": 10004,
        "detail": "Descriptor &#39;1100737e-a60b-4753-88c8-65db882d08f3&#39; not found"
      }
    ]
  }
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>The task could not be found.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which the response body is represented</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 13010,
  "detail": "No task found by id"
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>An indicator of the media type of the response body.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_analytics_tools_linker"><span class="parent">/analytics/tools</span>/linker</a> <span class="methods"><a href="#analytics_tools_linker_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_analytics_tools_linker" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Linking events, groups or Luna API list objects to a Luna API list resource.</p><p>Events can be linked with a Luna API descriptors list or to a Luna API persons list. In the second case, for each event descriptor a person will be created</p><p>Event groups can be linked with a Luna API person list only. If a person is already created from an event group, the person will be linked with a Luna API list. Otherwise, a person will be created and event group descriptors will be attached to the created person.</p><p>When a group or an event is attached to a list, the corresponding fields in these objects will be updated.</p><p>Objects from lists in the Luna API can be linked with lists of both types by rules similar to groups and events.</p></div><div class="list-group"><div onclick="window.location.href = '#analytics_tools_linker_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Create linking objects to a Luna API list task.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="analytics_tools_linker_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/analytics/tools</span>/linker</h4></div><div class="modal-body"><div class="alert alert-info"><p>Create linking objects to a Luna API list task.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#analytics_tools_linker_post_request" data-toggle="tab">Request</a></li><li><a href="#analytics_tools_linker_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="analytics_tools_linker_post_request"><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>(application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>object</strong>: <em>required (one of events, groups, luna_list)</em><p>Objects type to link with Luna API list.</p></li><li><strong>list_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>Id of a Luna API list to link objects to. If parameter is not set, Luna API list will be created automatically.</p></li><li><strong>list_type</strong>: <em>required (one of persons, descriptors)</em><p>Type of a Luna API list to link objects to. For groups only type "persons" is allowed.</p></li><li><strong>list_data</strong>: <em>(string)</em><p><em>list_data</em> of a Luna API list to be created if parameter <em>list_id</em> was not set.</p></li><li><strong>description</strong>: <em>(string)</em><p>User task description.</p></li><li><strong>filters</strong>: <em>required (object)</em><p>Filter set, that regulates objects to link.</p><ul><li><strong>tags</strong>: <em>(array of )</em><p><code>%2C</code>-separated objects&#39; tag list. Result objects will have all the given tags.</p></li><li><strong>age__lt</strong>: <em>(integer - minimum: 0 - maximum: 100)</em><p>The upper age boundary.</p></li><li><strong>create_time__gt</strong>: <em>(datetime)</em><p>The lower boundary of the object creation time period.</p></li><li><strong>sources</strong>: <em>(array of )</em><p><code>%2C</code>-separated event source list. Result objects will have one of the given sources.</p></li><li><strong>similarity__gt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The lower similarity boundary.</p></li><li><strong>age__gt</strong>: <em>(string)</em><p>The lower age boundary.</p></li><li><strong>handler_ids</strong>: <em>(array of UUID4)</em><p><code>%2C</code>-separated handler_id list. Result objects will be from one of the given handlers.</p></li><li><strong>create_time__lt</strong>: <em>(datetime)</em><p>The upper boundary of the object creation time period.</p></li><li><strong>similarity__lt</strong>: <em>(number - minimum: 0 - maximum: 1)</em><p>The upper similarity boundary.</p></li><li><strong>gender</strong>: <em>(one of 0, 1)</em><p>The gender filter. 1 - men, 0 - women.</p></li><li><strong>list_id</strong>: <em>(string - pattern: ^[a-f0-9]{8}-?[a-f0-9]{4}-?4[a-f0-9]{3}-?[89ab][a-f0-9]{3}-?[a-f0-9]{12}$)</em><p>A Luna API list id. If this filter is set, other filters are ignored.</p></li></ul></li></ul></div><div class="tab-pane" id="analytics_tools_linker_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Accepted</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li><li><strong>Location</strong>: <em>required (string)</em><p>A url to watch the created task progress.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>/api/1/tasks/146</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>task_id</strong>: <em>required (integer - minimum: 1)</em><p>Task id. Equals to task number.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "task_id": 146
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_analytics_tools_reporter"><span class="parent">/analytics/tools</span>/reporter</a> <span class="methods"><a href="#analytics_tools_reporter_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_analytics_tools_reporter" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#analytics_tools_reporter_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Create reporter task.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="analytics_tools_reporter_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/analytics/tools</span>/reporter</h4></div><div class="modal-body"><div class="alert alert-info"><p>Create reporter task.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#analytics_tools_reporter_post_request" data-toggle="tab">Request</a></li><li><a href="#analytics_tools_reporter_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="analytics_tools_reporter_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>description</strong>: <em>(string)</em><p>User task description.</p></li><li><strong>task_id</strong>: <em>required (integer - minimum: 1)</em><p>Id of task to make report on.</p></li><li><strong>format</strong>: <em>required (one of pdf, csv)</em><p>Report format.</p></li><li><strong>parameters</strong>: <em>(object)</em><ul><li><strong>save_portraits</strong>: <em>(one of 0, 1 - default: 0)</em><p>If <code>csv</code> report format is selected, one can set this parameter as "1" to get object portrait images in result report.</p></li><li><strong>colors_bounds</strong>: <em>(object)</em><p>If <code>pdf</code> format is selected and the type of task to make report on is <code>cross_matching</code>, one can set similarity thresholds for each color in this parameter.</p><ul><li><strong>green</strong>: <em>required (number - default: 0.83 - minimum: 0 - maximum: 1)</em><p>Boundaries of pictures with similarity higher than this parameter will be marked green.</p></li><li><strong>orange</strong>: <em>required (number - default: 0.5 - minimum: 0 - maximum: 1)</em><p>Boundaries of pictures with similarity higher than this parameter will be marked orange.</p></li><li><strong>red</strong>: <em>required (number - default: 0.3 - minimum: 0 - maximum: 1)</em><p>Boundaries of pictures with similarity higher than this parameter will be marked red.</p></li></ul></li></ul></li></ul></div><div class="tab-pane" id="analytics_tools_reporter_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Accepted</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li><li><strong>Location</strong>: <em>required (string)</em><p>A url to watch the created task progress.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>/api/1/tasks/146</code></pre></div></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>task_id</strong>: <em>required (integer - minimum: 1)</em><p>Task id. Equals to task number.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "task_id": 146
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 15003,
  "detail": "Unsupported type of task for this resource"
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="reports" class="panel-title">/reports</h3></div><div class="panel-body"><div class="top-resource-description"><p>The report storage resource.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_reports__task_id_"><span class="parent">/reports</span>/{task_id}</a> <span class="methods"><a href="#reports__task_id__get"><span class="badge badge_get">get</span></a> <a href="#reports__task_id__delete"><span class="badge badge_delete">delete</span></a></span></h4></div><div id="panel_reports__task_id_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Get report. Report format is selected in a task parameters.</p></div><div class="list-group"><div onclick="window.location.href = '#reports__task_id__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Request to receive a report. Report format will be one of: <code>pdf</code> or <code>csv</code>.</p><p>If report format is <code>pdf</code>, then pdf-report will be in the response body.</p><p>In a pdf-report for cross-matching task for each match the following fields are listed: the ordinal match number, reference and candidates. For every report object (reference or candidate) the following fields are listed: id, portrait, comment. Comment format depends on object type.</p><p>In a csv-report for clusterization task for each cluster the following fields are listed: the ordinal cluster number, cluster objects. For every object the following fields are listed: id, portrait, comment. Comment format depends on object type.</p><p>If report format is <code>csv</code>, then zip file with csv-report in will be in the response body. Portrait folder also will be in the archive if corresponding parameter was set in the report task parameters.</p><p>In a csv-file of the report for cross-matching task for each reference-candidate pair, the following fields are listed: the pair&#39;s ordinal number, reference id, reference portrait id, additional reference information, similarity, candidate id, candidate portrait id, additional candidate information. The format of the additional information for each object depends on the object type.</p><p>In a csv-file of the report for clusterization task for each object the following fields are listed: the object&#39;s ordinal number, the object&#39;s ordinal cluster number, reference id, reference portrait id, additional reference information. The format of the additional information for each object depends on the object type.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#reports__task_id__delete'" class="list-group-item"><span class="badge badge_delete">delete</span><div class="method_description"><p>Delete report.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="reports__task_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/reports</span>/{task_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Request to receive a report. Report format will be one of: <code>pdf</code> or <code>csv</code>.</p><p>If report format is <code>pdf</code>, then pdf-report will be in the response body.</p><p>In a pdf-report for cross-matching task for each match the following fields are listed: the ordinal match number, reference and candidates. For every report object (reference or candidate) the following fields are listed: id, portrait, comment. Comment format depends on object type.</p><p>In a csv-report for clusterization task for each cluster the following fields are listed: the ordinal cluster number, cluster objects. For every object the following fields are listed: id, portrait, comment. Comment format depends on object type.</p><p>If report format is <code>csv</code>, then zip file with csv-report in will be in the response body. Portrait folder also will be in the archive if corresponding parameter was set in the report task parameters.</p><p>In a csv-file of the report for cross-matching task for each reference-candidate pair, the following fields are listed: the pair&#39;s ordinal number, reference id, reference portrait id, additional reference information, similarity, candidate id, candidate portrait id, additional candidate information. The format of the additional information for each object depends on the object type.</p><p>In a csv-file of the report for clusterization task for each object the following fields are listed: the object&#39;s ordinal number, the object&#39;s ordinal cluster number, reference id, reference portrait id, additional reference information. The format of the additional information for each object depends on the object type.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#reports__task_id__get_request" data-toggle="tab">Request</a></li><li><a href="#reports__task_id__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="reports__task_id__get_request"><h3>URI Parameters</h3><ul><li><strong>task_id</strong>: <em>required (string)</em></li></ul></div><div class="tab-pane" id="reports__task_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>OK</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (one of application/pdf, application/zip)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/pdf</p><p><strong>Type</strong>: object</p><p><strong>Media type</strong>: application/zip</p><p><strong>Type</strong>: object</p><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Report not found.</p><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="reports__task_id__delete"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_delete">delete</span> <span class="parent">/reports</span>/{task_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Delete report.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#reports__task_id__delete_request" data-toggle="tab">Request</a></li><li><a href="#reports__task_id__delete_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="reports__task_id__delete_request"><h3>URI Parameters</h3><ul><li><strong>task_id</strong>: <em>required (string)</em></li></ul></div><div class="tab-pane" id="reports__task_id__delete_response"><h2>HTTP status code <a href="http://httpstatus.es/204" target="_blank">204</a></h2><p>OK</p><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Returns if no report found by id.</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="tasks" class="panel-title">/tasks</h3></div><div class="panel-body"><div class="top-resource-description"><p>Proceeding tasks storage.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_tasks"><span class="parent"></span>/tasks</a> <span class="methods"><a href="#tasks_get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_tasks" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#tasks_get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get list of proceeding tasks.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="tasks_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent"></span>/tasks</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get list of proceeding tasks.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#tasks_get_request" data-toggle="tab">Request</a></li><li><a href="#tasks_get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tasks_get_request"><h3>Query Parameters</h3><ul><li><strong>task_type</strong>: <em>required (one of clusterization, hit_top_n, reports, cross_matching, linking)</em><p>Task type.</p></li><li><strong>page</strong>: <em>(integer - default: 1 - minimum: 1)</em><p>Page number.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3</code></pre></div></li><li><strong>page_size</strong>: <em>(integer - default: 20 - minimum: 1 - maximum: 100)</em><p>Results count in page.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>30</code></pre></div></li></ul></div><div class="tab-pane" id="tasks_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: array of in_progress_task_for_list_list</p><p><strong>Items</strong>: in_progress_task_for_list_list</p><div class="items"><ul><li><strong>type</strong>: <em>required (one of clusterization, hit_top_n, linking, cross_matching, report)</em><p>Task type.</p></li><li><strong>id</strong>: <em>required (integer)</em><p>Task id.</p></li><li><strong>description</strong>: <em>required (string)</em><p>User task description.</p></li><li><strong>progress</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Task progress.</p></li><li><strong>status</strong>: <em>required (one of in progress, started)</em><p>Task status.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Task create time.</p></li><li><strong>last_update</strong>: <em>required (datetime)</em><p>Task last update time. It also coincides with the task completion or cancellation time.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "type": "clusterization",
    "id": 146,
    "description": "south_exit_list vs west_exit_list",
    "progress": 0.6,
    "status": "in progress",
    "create_time": "2017-03-22T16:04:25Z",
    "last_update": "2017-03-22T16:04:25Z"
  },
  {
    "type": "hit_top_n",
    "id": 147,
    "description": "west exit vs south_exit_list",
    "progress": 0.4,
    "status": "in progress",
    "create_time": "2017-03-22T16:04:25Z",
    "last_update": "2017-03-22T16:04:25Z"
  }
]</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_tasks__task_id_"><span class="parent">/tasks</span>/{task_id}</a> <span class="methods"><a href="#tasks__task_id__delete"><span class="badge badge_delete">delete</span></a> <a href="#tasks__task_id__get"><span class="badge badge_get">get</span></a></span></h4></div><div id="panel_tasks__task_id_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#tasks__task_id__delete'" class="list-group-item"><span class="badge badge_delete">delete</span><div class="method_description"><p>Stop running task.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#tasks__task_id__get'" class="list-group-item"><span class="badge badge_get">get</span><div class="method_description"><p>Get current task state (progress).</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="tasks__task_id__delete"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_delete">delete</span> <span class="parent">/tasks</span>/{task_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Stop running task.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#tasks__task_id__delete_request" data-toggle="tab">Request</a></li><li><a href="#tasks__task_id__delete_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tasks__task_id__delete_request"><h3>URI Parameters</h3><ul><li><strong>task_id</strong>: <em>required (integer)</em><p>Task id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>146</code></pre></div></li></ul></div><div class="tab-pane" id="tasks__task_id__delete_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><p>Task is stopping.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li><li><strong>Location</strong>: <em>required (string)</em><p>The cancelled task location url.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>/analytics/tasks/146</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Task not found.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="tasks__task_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get</span> <span class="parent">/tasks</span>/{task_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get current task state (progress).</p></div><ul class="nav nav-tabs"><li class="active"><a href="#tasks__task_id__get_request" data-toggle="tab">Request</a></li><li><a href="#tasks__task_id__get_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="tasks__task_id__get_request"><h3>URI Parameters</h3><ul><li><strong>task_id</strong>: <em>required (integer)</em><p>Task id.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>146</code></pre></div></li></ul></div><div class="tab-pane" id="tasks__task_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>type</strong>: <em>required (one of clusterization, hit_top_n, linking, cross_matching, report)</em><p>Task type.</p></li><li><strong>id</strong>: <em>required (integer)</em><p>Task id.</p></li><li><strong>description</strong>: <em>required (string)</em><p>User task description.</p></li><li><strong>progress</strong>: <em>required (number - minimum: 0 - maximum: 1)</em><p>Task progress.</p></li><li><strong>status</strong>: <em>required (one of in progress, started)</em><p>Task status.</p></li><li><strong>create_time</strong>: <em>required (datetime)</em><p>Task create time.</p></li><li><strong>last_update</strong>: <em>required (datetime)</em><p>Task last update time. It also coincides with the task completion or cancellation time.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "type": "clusterization",
  "id": 146,
  "description": "south_exit_list vs west_exit_list",
  "progress": 0.6,
  "status": "in progress",
  "create_time": "2017-03-22T16:04:25Z",
  "last_update": "2017-03-22T16:04:25Z"
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/303" target="_blank">303</a></h2><p>Task already finished or cancelled. See task result at the url that located in <em>Location</em> response header.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li><li><strong>Location</strong>: <em>required (string)</em><p>A url to watch the created task progress.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Location: &#39;/analytics/tasks/146&#39;
</code></pre></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/404" target="_blank">404</a></h2><p>Task not found.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/500" target="_blank">500</a></h2><p>Internal error</p><p>Additional error description is provided within the reply body.</p><h3>Headers</h3><ul><li><strong>Content-Type</strong>: <em>required (application/json)</em><p>The media type indicator in which an answer body is represented.</p></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>error_code</strong>: <em>required (integer)</em><p>System error code.</p></li><li><strong>detail</strong>: <em>required (string)</em><p>Error description.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "error_code": 10001,
  "detail": "Internal server error"
}</code></pre></div></div></div></div></div></div></div></div></div></div></div></div><div class="col-md-3"><div id="sidebar" class="hidden-print affix" role="complementary"><ul class="nav nav-pills nav-stacked"><li><a href="#handlers">/handlers</a></li><li><a href="#receivers">/receivers</a></li><li><a href="#events">/events</a></li><li><a href="#events_groups">/events_groups</a></li><li><a href="#storage">/storage</a></li><li><a href="#ws">/ws</a></li><li><a href="#luna_api">/luna_api</a></li><li><a href="#analytics">/analytics</a></li><li><a href="#reports">/reports</a></li><li><a href="#tasks">/tasks</a></li></ul></div></div></div></div></body></html>